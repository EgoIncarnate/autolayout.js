/**
* This Source Code is licensed under the MIT license. If a copy of the
* MIT-license was not distributed with this file, You can obtain one at:
* http://opensource.org/licenses/mit-license.html.
*
* @author: Hein Rutjes (IjzerenHein)
* @license MIT
* @copyright Gloey Apps, 2015
*
* @library autolayout.js
* @version 0.2.0
* @generated 24-06-2015
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.AutoLayout=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY",ZINDEX:"zIndex"};c["default"]=d,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Attribute.es6"),f=d(e),g=a("./Relation.es6"),h=d(g),i=a("./Priority.es6"),j=d(i),k=a("./VisualFormat.es6"),l=d(k),m=a("./View.es6"),n=d(m),o=a("./SubView.es6"),p=d(o),q={Attribute:f["default"],Relation:h["default"],Priority:j["default"],VisualFormat:l["default"],View:n["default"],SubView:p["default"]};c["default"]=q,b.exports=c["default"]},{"./Attribute.es6":1,"./Priority.es6":3,"./Relation.es6":4,"./SubView.es6":5,"./View.es6":6,"./VisualFormat.es6":7}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250};c["default"]=d,b.exports=c["default"]},{}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={LEQ:"leq",EQU:"equ",GEQ:"geq"};c["default"]=d,b.exports=c["default"]},{}],5:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h="undefined"!=typeof window?window.c:"undefined"!=typeof d?d.c:null,i=e(h),j=a("./Attribute.es6"),k=e(j),l=function(){function a(b){f(this,a),this._name=b.name,this._solver=b.solver,this._attr={},b.name||(this._attr[k["default"].LEFT]=new i["default"].Variable({value:0,name:"|.left"}),this._solver.addConstraint(new i["default"].StayConstraint(this._attr[k["default"].LEFT],i["default"].Strength.required)),this._attr[k["default"].TOP]=new i["default"].Variable({value:0,name:"|.top"}),this._solver.addConstraint(new i["default"].StayConstraint(this._attr[k["default"].TOP],i["default"].Strength.required)),this._attr[k["default"].ZINDEX]=new i["default"].Variable({value:0,name:"|.zIndex"}),this._solver.addConstraint(new i["default"].StayConstraint(this._attr[k["default"].ZINDEX],i["default"].Strength.required)))}return g(a,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttr(k["default"].LEFT).value}},{key:"right",get:function(){return this._getAttr(k["default"].RIGHT).value}},{key:"width",get:function(){return this._getAttr(k["default"].WIDTH).value}},{key:"height",get:function(){return this._getAttr(k["default"].HEIGHT).value}},{key:"intrinsicWidth",get:function(){return this._intrinsicWidth},set:function(a){if(void 0!==a&&a!==this._intrinsicWidth){var b=this._getAttr(k["default"].WIDTH);void 0===this._intrinsicWidth&&this._solver.addEditVar(b,new i["default"].Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicWidth=a,this._solver.suggestValue(b,a),this._solver.resolve()}}},{key:"intrinsicHeight",get:function(){return this._intrinsicHeight},set:function(a){if(void 0!==a&&a!==this._intrinsicHeight){var b=this._getAttr(k["default"].HEIGHT);void 0===this._intrinsicHeight&&this._solver.addEditVar(b,new i["default"].Strength("required",this._name?998:999,1e3,1e3)),this._intrinsicHeight=a,this._solver.suggestValue(b,a),this._solver.resolve()}}},{key:"top",get:function(){return this._getAttr(k["default"].TOP).value}},{key:"bottom",get:function(){return this._getAttr(k["default"].BOTTOM).value}},{key:"centerX",get:function(){return this._getAttr(k["default"].CENTERX).value}},{key:"centerY",get:function(){return this._getAttr(k["default"].CENTERY).value}},{key:"zIndex",get:function(){return this._getAttr(k["default"].ZINDEX).value}},{key:"getValue",value:function(a){return this._attr[a]?this._attr[a].value:void 0}},{key:"_getAttr",value:function(a){if(this._attr[a])return this._attr[a];switch(a){case k["default"].LEFT:case k["default"].TOP:case k["default"].WIDTH:case k["default"].HEIGHT:case k["default"].ZINDEX:this._attr[a]=new i["default"].Variable({value:0,name:(this._name||"|")+"."+a});break;case k["default"].RIGHT:this._getAttr(k["default"].LEFT),this._getAttr(k["default"].WIDTH),this._attr[k["default"].RIGHT]=new i["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].RIGHT],i["default"].plus(this._attr[k["default"].LEFT],this._attr[k["default"].WIDTH])));break;case k["default"].BOTTOM:this._getAttr(k["default"].TOP),this._getAttr(k["default"].HEIGHT),this._attr[k["default"].BOTTOM]=new i["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].BOTTOM],i["default"].plus(this._attr[k["default"].TOP],this._attr[k["default"].HEIGHT])));break;case k["default"].CENTERX:this._getAttr(k["default"].LEFT),this._getAttr(k["default"].WIDTH),this._attr[k["default"].CENTERX]=new i["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].CENTERX],i["default"].plus(this._attr[k["default"].LEFT],i["default"].divide(this._attr[k["default"].WIDTH],2))));break;case k["default"].CENTERY:this._getAttr(k["default"].TOP),this._getAttr(k["default"].HEIGHT),this._attr[k["default"].CENTERY]=new i["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].CENTERY],i["default"].plus(this._attr[k["default"].TOP],i["default"].divide(this._attr[k["default"].HEIGHT],2))))}return this._attr[a]}}]),a}();c["default"]=l,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Attribute.es6":1}],6:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){var c=new m["default"].Variable({value:b});return this._solver.addConstraint(new m["default"].StayConstraint(c,m["default"].Strength.required,0)),c}function h(a){return a?(this._subViews[a]=this._subViews[a]||new s["default"]({name:a,solver:this._solver}),this._subViews[a]):this._parentSubView}function i(a){var b=4;if(a.view1||"left"!==a.attr1)if(a.view1||"top"!==a.attr1)if(a.view2||"right"!==a.attr2)if(a.view2||"bottom"!==a.attr2)switch(a.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":b=4;break;case"zIndex":b=6;break;default:b=5}else b=2;else b=1;else b=0;else b=3;return this._spacingVars=this._spacingVars||new Array(7),this._spacingExpr=this._spacingExpr||new Array(7),this._spacingVars[b]||(this._spacingVars[b]=new m["default"].Variable({value:this._spacing[b],name:"spacing["+b+"]"}),this._solver.addEditVar(this._spacingVars[b]),this._spacingExpr[b]=m["default"].minus(0,this._spacingVars[b])),this._spacingExpr[b]}function j(a){var b=void 0,c=void 0!==a.multiplier?a.multiplier:1,d=void 0!==a.constant?a.constant:0;"default"===d&&(d=i.call(this,a));var e=h.call(this,a.view1)._getAttr(a.attr1),f=void 0;a.attr2===o["default"].CONST?f=g.call(this,void 0,a.constant):(f=h.call(this,a.view2)._getAttr(a.attr2),1!==c&&d?f=m["default"].plus(m["default"].times(f,c),d):d?f=m["default"].plus(f,d):1!==c&&(f=m["default"].times(f,c)));var j=void 0!==a.priority&&a.priority<1e3?new m["default"].Strength("priority",0,a.priority,1e3):t;switch(a.relation){case q["default"].EQU:b=new m["default"].Equation(e,f,j);break;case q["default"].GEQ:b=new m["default"].Inequality(e,m["default"].GEQ,f,j);break;case q["default"].LEQ:b=new m["default"].Inequality(e,m["default"].LEQ,f,j);break;default:throw"Invalid relation specified: "+a.relation}this._solver.addConstraint(b)}Object.defineProperty(c,"__esModule",{value:!0});var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l="undefined"!=typeof window?window.c:"undefined"!=typeof d?d.c:null,m=e(l),n=a("./Attribute.es6"),o=e(n),p=a("./Relation.es6"),q=e(p),r=a("./SubView.es6"),s=e(r),t=new m["default"].Strength("defaultPriority",0,1e3,1e3),u=function(){function a(b){f(this,a),this._solver=new m["default"].SimplexSolver,this._subViews={},this._spacing={},this._parentSubView=new s["default"]({solver:this._solver}),this.setSpacing(b&&void 0!==b.spacing?b.spacing:8),b&&((void 0!==b.width||void 0!==b.height)&&this.setSize(b.width,b.height),b.constraints&&this.addConstraints(b.constraints))}return k(a,[{key:"setSize",value:function(a,b){return this._parentSubView.intrinsicWidth=a,this._parentSubView.intrinsicHeight=b,this}},{key:"width",get:function(){return this._parentSubView.intrinsicWidth}},{key:"height",get:function(){return this._parentSubView.intrinsicHeight}},{key:"fittingWidth",get:function(){return this._parentSubView.width}},{key:"fittingHeight",get:function(){return this._parentSubView.height}},{key:"setSpacing",value:function(a){switch(Array.isArray(a)?a.length:-1){case-1:a=[a,a,a,a,a,a,1];break;case 1:a=[a[0],a[0],a[0],a[0],a[0],a[0],1];break;case 2:a=[a[1],a[0],a[1],a[0],a[0],a[1],1];break;case 3:a=[a[1],a[0],a[1],a[0],a[0],a[1],a[2]];break;case 6:a=[a[0],a[1],a[2],a[3],a[4],a[5],1];break;case 7:break;default:throw"Invalid spacing syntax"}if(this._spacing=a,this._spacingVars){for(var b=0;b<this._spacingVars.length;b++)this._spacingVars[b]&&this._solver.suggestValue(this._spacingVars[b],this._spacing[b]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(a){return j.call(this,a),this}},{key:"addConstraints",value:function(a){for(var b=0;b<a.length;b++)j.call(this,a[b]);return this}},{key:"subViews",get:function(){return this._subViews}}]),a}();c["default"]=u,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Attribute.es6":1,"./Relation.es6":4,"./SubView.es6":5}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./parser/parser"),h=d(g),i=a("./parser/parserExt"),j=d(i),k=a("./Attribute.es6"),l=d(k),m=function(){function a(){e(this,a)}return f(a,null,[{key:"parseLine",value:function(a,b){if(0===a.length||b&&b.extended&&0===a.indexOf("//"))return[];var c=[],d=b&&b.extended?j["default"].parse(a):h["default"].parse(a);if(b&&"raw"===b.outFormat)return[d];for(var e="horizontal"===d.orientation,f=void 0,g=void 0,i=void 0,k=void 0,m=void 0,n=void 0,o=0;o<d.cascade.length;o++)if(n=d.cascade[o],!Array.isArray(n)&&n.hasOwnProperty("view")){if(f=g,g=n.view,void 0!==f&&void 0!==g&&i){switch(d.orientation){case"horizontal":k=f?l["default"].RIGHT:l["default"].LEFT,m=g?l["default"].LEFT:l["default"].RIGHT;break;case"vertical":k=f?l["default"].BOTTOM:l["default"].TOP,m=g?l["default"].TOP:l["default"].BOTTOM;break;case"zIndex":k=l["default"].ZINDEX,m=l["default"].ZINDEX,i.constant=f?"default":0}c.push({view1:f,attr1:k,relation:i.relation,view2:g,attr2:m,multiplier:i.multiplier,constant:"default"!==i.constant&&i.constant?-i.constant:i.constant,priority:i.priority})}if(i=void 0,n.constraints)for(var p=0;p<n.constraints.length;p++)k=e?l["default"].WIDTH:l["default"].HEIGHT,m=n.constraints[p].view||n.constraints[p].multiplier?n.constraints[p].attribute||k:n.constraints[p].variable?l["default"].VARIABLE:l["default"].CONST,c.push({view1:n.view,attr1:k,relation:n.constraints[p].relation,view2:n.constraints[p].view,attr2:m,multiplier:n.constraints[p].multiplier,constant:n.constraints[p].constant,priority:n.constraints[p].priority})}else i=n[0];return c}},{key:"parse",value:function(a,b){var c=b&&b.lineSeperator?b.lineSeperator:"\n";if(!Array.isArray(a)&&a.indexOf(c)<0)try{return this.parseLine(a,b)}catch(d){throw d.source=a,d}a=Array.isArray(a)?a:[a];var e=void 0,f=[],g=0,h=void 0;try{for(var i=0;i<a.length;i++){e=a[i].split(c);for(var j=0;j<e.length;j++)h=e[j],g++,f=f.concat(this.parseLine(h,b))}}catch(d){throw d.source=h,d.line=g,d}return f}}]),a}();c["default"]=m,b.exports=c["default"]},{"./Attribute.es6":1,"./parser/parser":8,"./parser/parserExt":9}],8:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return Ca}function d(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Da!==b&&(Da>b&&(Da=0,Ea={line:1,column:1,seenCR:!1}),c(Ea,Da,b),Da=b),Ea}function e(a){Fa>Ba||(Ba>Fa&&(Fa=Ba,Ga=[]),Ga.push(a))}function f(c,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==c?c:h(e,j),e,j,f,i.line,i.column)}function g(){var b,c,d,f,g,l,m,n;if(b=Ba,c=Ba,d=h(),d!==y?(58===a.charCodeAt(Ba)?(f=D,Ba++):(f=y,0===Ha&&e(E)),f!==y?(d=[d,f],c=d):(Ba=c,c=B)):(Ba=c,c=B),c===y&&(c=C),c!==y)if(d=Ba,f=i(),f!==y?(g=k(),g!==y?(f=[f,g],d=f):(Ba=d,d=B)):(Ba=d,d=B),d===y&&(d=C),d!==y)if(f=j(),f!==y){for(g=[],l=Ba,m=k(),m!==y?(n=j(),n!==y?(m=[m,n],l=m):(Ba=l,l=B)):(Ba=l,l=B);l!==y;)g.push(l),l=Ba,m=k(),m!==y?(n=j(),n!==y?(m=[m,n],l=m):(Ba=l,l=B)):(Ba=l,l=B);g!==y?(l=Ba,m=k(),m!==y?(n=i(),n!==y?(m=[m,n],l=m):(Ba=l,l=B)):(Ba=l,l=B),l===y&&(l=C),l!==y?(Ca=b,c=F(c,d,f,g,l),b=c):(Ba=b,b=B)):(Ba=b,b=B)}else Ba=b,b=B;else Ba=b,b=B;else Ba=b,b=B;return b}function h(){var b,c;return b=Ba,72===a.charCodeAt(Ba)?(c=G,Ba++):(c=y,0===Ha&&e(H)),c===y&&(86===a.charCodeAt(Ba)?(c=I,Ba++):(c=y,0===Ha&&e(J))),c!==y&&(Ca=b,c=K(c)),b=c}function i(){var b,c;return b=Ba,124===a.charCodeAt(Ba)?(c=L,Ba++):(c=y,0===Ha&&e(M)),c!==y&&(Ca=b,c=N()),b=c}function j(){var b,c,d,f,g;return b=Ba,91===a.charCodeAt(Ba)?(c=O,Ba++):(c=y,0===Ha&&e(P)),c!==y?(d=t(),d!==y?(f=n(),f===y&&(f=C),f!==y?(93===a.charCodeAt(Ba)?(g=Q,Ba++):(g=y,0===Ha&&e(R)),g!==y?(Ca=b,c=S(d,f),b=c):(Ba=b,b=B)):(Ba=b,b=B)):(Ba=b,b=B)):(Ba=b,b=B),b}function k(){var b,c,d,f;return b=Ba,45===a.charCodeAt(Ba)?(c=T,Ba++):(c=y,0===Ha&&e(U)),c!==y?(d=l(),d!==y?(45===a.charCodeAt(Ba)?(f=T,Ba++):(f=y,0===Ha&&e(U)),f!==y?(Ca=b,c=V(d),b=c):(Ba=b,b=B)):(Ba=b,b=B)):(Ba=b,b=B),b===y&&(b=Ba,45===a.charCodeAt(Ba)?(c=T,Ba++):(c=y,0===Ha&&e(U)),c!==y&&(Ca=b,c=W()),b=c,b===y&&(b=Ba,c=X,c!==y&&(Ca=b,c=Y()),b=c)),b}function l(){var a;return a=m(),a===y&&(a=n()),a}function m(){var a,b;return a=Ba,b=u(),b!==y&&(Ca=a,b=Z(b)),a=b}function n(){var b,c,d,f,g,h,i;if(b=Ba,40===a.charCodeAt(Ba)?(c=$,Ba++):(c=y,0===Ha&&e(_)),c!==y)if(d=o(),d!==y){for(f=[],g=Ba,44===a.charCodeAt(Ba)?(h=aa,Ba++):(h=y,0===Ha&&e(ba)),h!==y?(i=o(),i!==y?(h=[h,i],g=h):(Ba=g,g=B)):(Ba=g,g=B);g!==y;)f.push(g),g=Ba,44===a.charCodeAt(Ba)?(h=aa,Ba++):(h=y,0===Ha&&e(ba)),h!==y?(i=o(),i!==y?(h=[h,i],g=h):(Ba=g,g=B)):(Ba=g,g=B);f!==y?(41===a.charCodeAt(Ba)?(g=ca,Ba++):(g=y,0===Ha&&e(da)),g!==y?(Ca=b,c=ea(d,f),b=c):(Ba=b,b=B)):(Ba=b,b=B)}else Ba=b,b=B;else Ba=b,b=B;return b}function o(){var b,c,d,f,g,h;return b=Ba,c=p(),c===y&&(c=C),c!==y?(d=q(),d!==y?(f=Ba,64===a.charCodeAt(Ba)?(g=fa,Ba++):(g=y,0===Ha&&e(ga)),g!==y?(h=r(),h!==y?(g=[g,h],f=g):(Ba=f,f=B)):(Ba=f,f=B),f===y&&(f=C),f!==y?(Ca=b,c=ha(c,d,f),b=c):(Ba=b,b=B)):(Ba=b,b=B)):(Ba=b,b=B),b}function p(){var b,c;return b=Ba,a.substr(Ba,2)===ia?(c=ia,Ba+=2):(c=y,0===Ha&&e(ja)),c!==y&&(Ca=b,c=ka()),b=c,b===y&&(b=Ba,a.substr(Ba,2)===la?(c=la,Ba+=2):(c=y,0===Ha&&e(ma)),c!==y&&(Ca=b,c=na()),b=c,b===y&&(b=Ba,a.substr(Ba,2)===oa?(c=oa,Ba+=2):(c=y,0===Ha&&e(pa)),c!==y&&(Ca=b,c=qa()),b=c)),b}function q(){var a;return a=s(),a===y&&(a=t()),a}function r(){var a,b;return a=Ba,b=u(),b!==y&&(Ca=a,b=ra(b)),a=b}function s(){var a,b;return a=Ba,b=u(),b!==y&&(Ca=a,b=sa(b)),a=b}function t(){var b,c,d,f,g;if(b=Ba,c=Ba,d=[],ta.test(a.charAt(Ba))?(f=a.charAt(Ba),Ba++):(f=y,0===Ha&&e(ua)),f!==y)for(;f!==y;)d.push(f),ta.test(a.charAt(Ba))?(f=a.charAt(Ba),Ba++):(f=y,0===Ha&&e(ua));else d=B;if(d!==y&&(d=a.substring(c,Ba)),c=d,c!==y){for(d=Ba,f=[],va.test(a.charAt(Ba))?(g=a.charAt(Ba),Ba++):(g=y,0===Ha&&e(wa));g!==y;)f.push(g),va.test(a.charAt(Ba))?(g=a.charAt(Ba),Ba++):(g=y,0===Ha&&e(wa));f!==y&&(f=a.substring(d,Ba)),d=f,d!==y?(Ca=b,c=xa(c,d),b=c):(Ba=b,b=B)}else Ba=b,b=B;return b}function u(){var b,c,d;if(b=Ba,c=[],ya.test(a.charAt(Ba))?(d=a.charAt(Ba),Ba++):(d=y,0===Ha&&e(za)),d!==y)for(;d!==y;)c.push(d),ya.test(a.charAt(Ba))?(d=a.charAt(Ba),Ba++):(d=y,0===Ha&&e(za));else c=B;return c!==y&&(Ca=b,c=Aa(c)),b=c}function v(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}var w,x=arguments.length>1?arguments[1]:{},y={},z={visualFormatString:g},A=g,B=y,C=null,D=":",E={type:"literal",value:":",description:'":"'},F=function(a,b,c,d,e){return{orientation:a?a[0]:"horizontal",cascade:(b||[]).concat([c],[].concat.apply([],d),e||[])}},G="H",H={type:"literal",value:"H",description:'"H"'},I="V",J={type:"literal",value:"V",description:'"V"'},K=function(a){return"H"==a?"horizontal":"vertical"},L="|",M={type:"literal",value:"|",description:'"|"'},N=function(){return{view:null}},O="[",P={type:"literal",value:"[",description:'"["'},Q="]",R={type:"literal",value:"]",description:'"]"'},S=function(a,b){return v(a,b?{constraints:b}:{})},T="-",U={type:"literal",value:"-",description:'"-"'},V=function(a){return a},W=function(){return[{relation:"equ",constant:"default",$parserOffset:c()}]},X="",Y=function(){return[{relation:"equ",constant:0,$parserOffset:c()}]},Z=function(a){return[{relation:"equ",constant:a,$parserOffset:c()}]},$="(",_={type:"literal",value:"(",description:'"("'},aa=",",ba={type:"literal",value:",",description:'","'},ca=")",da={type:"literal",value:")",description:'")"'},ea=function(a,b){return[a].concat(b.map(function(a){return a[1]}))},fa="@",ga={type:"literal",value:"@",description:'"@"'},ha=function(a,b,c){return v({relation:"equ"},a||{},b,c?c[1]:{})},ia="==",ja={type:"literal",value:"==",description:'"=="'},ka=function(){return{relation:"equ",$parserOffset:c()}},la="<=",ma={type:"literal",value:"<=",description:'"<="'},na=function(){return{relation:"leq",$parserOffset:c()}},oa=">=",pa={type:"literal",value:">=",description:'">="'},qa=function(){return{relation:"geq",$parserOffset:c()}},ra=function(a){return{priority:a}},sa=function(a){return{constant:a}},ta=/^[a-zA-Z_]/,ua={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},va=/^[a-zA-Z0-9_]/,wa={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},xa=function(a,b){return{view:a+b}},ya=/^[0-9]/,za={type:"class",value:"[0-9]",description:"[0-9]"},Aa=function(a){return parseInt(a.join(""),10)},Ba=0,Ca=0,Da=0,Ea={line:1,column:1,seenCR:!1},Fa=0,Ga=[],Ha=0;if("startRule"in x){if(!(x.startRule in z))throw new Error("Can't start parsing from rule \""+x.startRule+'".');A=z[x.startRule]}if(w=A(),w!==y&&Ba===a.length)return w;throw w!==y&&Ba<a.length&&e({type:"end",description:"end of input"}),f(null,Ga,Fa)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}],9:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return yb}function d(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return zb!==b&&(zb>b&&(zb=0,Ab={line:1,column:1,seenCR:!1}),c(Ab,zb,b),zb=b),Ab}function e(a){Bb>xb||(xb>Bb&&(Bb=xb,Cb=[]),Cb.push(a))}function f(c,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==c?c:h(e,j),e,j,f,i.line,i.column)}function g(){var b,c,d,f,g,m,n,o;if(b=xb,c=xb,d=h(),d!==E?(58===a.charCodeAt(xb)?(f=J,xb++):(f=E,0===Db&&e(K)),f!==E?(d=[d,f],c=d):(xb=c,c=H)):(xb=c,c=H),c===E&&(c=I),c!==E)if(d=xb,f=j(),f!==E?(g=l(),g!==E?(f=[f,g],d=f):(xb=d,d=H)):(xb=d,d=H),d===E&&(d=I),d!==E)if(f=k(),f!==E){for(g=[],m=xb,n=l(),n!==E?(o=k(),o!==E?(n=[n,o],m=n):(xb=m,m=H)):(xb=m,m=H);m!==E;)g.push(m),m=xb,n=l(),n!==E?(o=k(),o!==E?(n=[n,o],m=n):(xb=m,m=H)):(xb=m,m=H);g!==E?(m=xb,n=l(),n!==E?(o=j(),o!==E?(n=[n,o],m=n):(xb=m,m=H)):(xb=m,m=H),m===E&&(m=I),m!==E?(n=i(),n===E&&(n=I),n!==E?(yb=b,c=L(c,d,f,g,m,n),b=c):(xb=b,b=H)):(xb=b,b=H)):(xb=b,b=H)}else xb=b,b=H;else xb=b,b=H;else xb=b,b=H;return b}function h(){var b,c;return b=xb,72===a.charCodeAt(xb)?(c=M,xb++):(c=E,0===Db&&e(N)),c===E&&(86===a.charCodeAt(xb)?(c=O,xb++):(c=E,0===Db&&e(P)),c===E&&(90===a.charCodeAt(xb)?(c=Q,xb++):(c=E,0===Db&&e(R)))),c!==E&&(yb=b,c=S(c)),b=c}function i(){var b,c,d,f,g;for(b=xb,c=[],32===a.charCodeAt(xb)?(d=T,xb++):(d=E,0===Db&&e(U));d!==E;)c.push(d),32===a.charCodeAt(xb)?(d=T,xb++):(d=E,0===Db&&e(U));if(c!==E)if(a.substr(xb,2)===V?(d=V,xb+=2):(d=E,0===Db&&e(W)),d!==E){for(f=[],a.length>xb?(g=a.charAt(xb),xb++):(g=E,0===Db&&e(X));g!==E;)f.push(g),a.length>xb?(g=a.charAt(xb),xb++):(g=E,0===Db&&e(X));f!==E?(c=[c,d,f],b=c):(xb=b,b=H)}else xb=b,b=H;else xb=b,b=H;return b}function j(){var b,c;return b=xb,124===a.charCodeAt(xb)?(c=Y,xb++):(c=E,0===Db&&e(Z)),c!==E&&(yb=b,c=$()),b=c}function k(){var b,c,d,f,g;return b=xb,91===a.charCodeAt(xb)?(c=_,xb++):(c=E,0===Db&&e(aa)),c!==E?(d=z(),d!==E?(f=o(),f===E&&(f=I),f!==E?(93===a.charCodeAt(xb)?(g=ba,xb++):(g=E,0===Db&&e(ca)),g!==E?(yb=b,c=da(d,f),b=c):(xb=b,b=H)):(xb=b,b=H)):(xb=b,b=H)):(xb=b,b=H),b}function l(){var b,c,d,f;return b=xb,45===a.charCodeAt(xb)?(c=ea,xb++):(c=E,0===Db&&e(fa)),c!==E?(d=m(),d!==E?(45===a.charCodeAt(xb)?(f=ea,xb++):(f=E,0===Db&&e(fa)),f!==E?(yb=b,c=ga(d),b=c):(xb=b,b=H)):(xb=b,b=H)):(xb=b,b=H),b===E&&(b=xb,45===a.charCodeAt(xb)?(c=ea,xb++):(c=E,0===Db&&e(fa)),c!==E&&(yb=b,c=ha()),b=c,b===E&&(b=xb,c=ia,c!==E&&(yb=b,c=ja()),b=c)),b}function m(){var a;return a=n(),a===E&&(a=o()),a}function n(){var a,b;return a=xb,b=A(),b!==E&&(yb=a,b=ka(b)),a=b}function o(){var b,c,d,f,g,h,i;if(b=xb,40===a.charCodeAt(xb)?(c=la,xb++):(c=E,0===Db&&e(ma)),c!==E)if(d=p(),d!==E){for(f=[],g=xb,44===a.charCodeAt(xb)?(h=na,xb++):(h=E,0===Db&&e(oa)),h!==E?(i=p(),i!==E?(h=[h,i],g=h):(xb=g,g=H)):(xb=g,g=H);g!==E;)f.push(g),g=xb,44===a.charCodeAt(xb)?(h=na,xb++):(h=E,0===Db&&e(oa)),h!==E?(i=p(),i!==E?(h=[h,i],g=h):(xb=g,g=H)):(xb=g,g=H);f!==E?(41===a.charCodeAt(xb)?(g=pa,xb++):(g=E,0===Db&&e(qa)),g!==E?(yb=b,c=ra(d,f),b=c):(xb=b,b=H)):(xb=b,b=H)}else xb=b,b=H;else xb=b,b=H;return b}function p(){var b,c,d,f,g,h;return b=xb,c=q(),c===E&&(c=I),c!==E?(d=r(),d!==E?(f=xb,64===a.charCodeAt(xb)?(g=sa,xb++):(g=E,0===Db&&e(ta)),g!==E?(h=s(),h!==E?(g=[g,h],f=g):(xb=f,f=H)):(xb=f,f=H),f===E&&(f=I),f!==E?(yb=b,c=ua(c,d,f),b=c):(xb=b,b=H)):(xb=b,b=H)):(xb=b,b=H),b}function q(){var b,c;return b=xb,a.substr(xb,2)===va?(c=va,xb+=2):(c=E,0===Db&&e(wa)),c!==E&&(yb=b,c=xa()),b=c,b===E&&(b=xb,a.substr(xb,2)===ya?(c=ya,xb+=2):(c=E,0===Db&&e(za)),c!==E&&(yb=b,c=Aa()),b=c,b===E&&(b=xb,a.substr(xb,2)===Ba?(c=Ba,xb+=2):(c=E,0===Db&&e(Ca)),c!==E&&(yb=b,c=Da()),b=c)),b}function r(){var a;return a=u(),a===E&&(a=t(),a===E&&(a=v())),a}function s(){var a,b;return a=xb,b=A(),b!==E&&(yb=a,b=Ea(b)),a=b}function t(){var a,b;return a=xb,b=A(),b!==E&&(yb=a,b=Fa(b)),a=b}function u(){var b,c,d;return b=xb,c=A(),c!==E?(37===a.charCodeAt(xb)?(d=Ga,xb++):(d=E,0===Db&&e(Ha)),d!==E?(yb=b,c=Ia(c),b=c):(xb=b,b=H)):(xb=b,b=H),b}function v(){var a,b,c,d,e;return a=xb,b=z(),b!==E?(c=w(),c===E&&(c=I),c!==E?(d=x(),d===E&&(d=I),d!==E?(e=y(),e===E&&(e=I),e!==E?(yb=a,b=Ja(b,c,d,e),a=b):(xb=a,a=H)):(xb=a,a=H)):(xb=a,a=H)):(xb=a,a=H),a}function w(){var b,c;return b=xb,a.substr(xb,5)===Ka?(c=Ka,xb+=5):(c=E,0===Db&&e(La)),c!==E&&(yb=b,c=Ma()),b=c,b===E&&(b=xb,a.substr(xb,6)===Na?(c=Na,xb+=6):(c=E,0===Db&&e(Oa)),c!==E&&(yb=b,c=Pa()),b=c,b===E&&(b=xb,a.substr(xb,4)===Qa?(c=Qa,xb+=4):(c=E,0===Db&&e(Ra)),c!==E&&(yb=b,c=Sa()),b=c,b===E&&(b=xb,a.substr(xb,7)===Ta?(c=Ta,xb+=7):(c=E,0===Db&&e(Ua)),c!==E&&(yb=b,c=Va()),b=c,b===E&&(b=xb,a.substr(xb,6)===Wa?(c=Wa,xb+=6):(c=E,0===Db&&e(Xa)),c!==E&&(yb=b,c=Ya()),b=c,b===E&&(b=xb,a.substr(xb,7)===Za?(c=Za,xb+=7):(c=E,0===Db&&e($a)),c!==E&&(yb=b,c=_a()),b=c,b===E&&(b=xb,a.substr(xb,8)===ab?(c=ab,xb+=8):(c=E,0===Db&&e(bb)),c!==E&&(yb=b,c=cb()),b=c,b===E&&(b=xb,a.substr(xb,8)===db?(c=db,xb+=8):(c=E,0===Db&&e(eb)),c!==E&&(yb=b,c=fb()),b=c))))))),b}function x(){var b,c,d;return b=xb,47===a.charCodeAt(xb)?(c=gb,xb++):(c=E,0===Db&&e(hb)),c!==E?(d=A(),d!==E?(yb=b,c=ib(d),b=c):(xb=b,b=H)):(xb=b,b=H),b===E&&(b=xb,42===a.charCodeAt(xb)?(c=jb,xb++):(c=E,0===Db&&e(kb)),c!==E?(d=A(),d!==E?(yb=b,c=lb(d),b=c):(xb=b,b=H)):(xb=b,b=H)),b}function y(){var b,c,d;return b=xb,45===a.charCodeAt(xb)?(c=ea,xb++):(c=E,0===Db&&e(fa)),c!==E?(d=A(),d!==E?(yb=b,c=mb(d),b=c):(xb=b,b=H)):(xb=b,b=H),b===E&&(b=xb,43===a.charCodeAt(xb)?(c=nb,xb++):(c=E,0===Db&&e(ob)),c!==E?(d=A(),d!==E?(yb=b,c=lb(d),b=c):(xb=b,b=H)):(xb=b,b=H)),b}function z(){var b,c,d,f,g;if(b=xb,c=xb,d=[],pb.test(a.charAt(xb))?(f=a.charAt(xb),xb++):(f=E,0===Db&&e(qb)),f!==E)for(;f!==E;)d.push(f),pb.test(a.charAt(xb))?(f=a.charAt(xb),xb++):(f=E,0===Db&&e(qb));else d=H;if(d!==E&&(d=a.substring(c,xb)),c=d,c!==E){for(d=xb,f=[],rb.test(a.charAt(xb))?(g=a.charAt(xb),xb++):(g=E,0===Db&&e(sb));g!==E;)f.push(g),rb.test(a.charAt(xb))?(g=a.charAt(xb),xb++):(g=E,0===Db&&e(sb));f!==E&&(f=a.substring(d,xb)),d=f,d!==E?(yb=b,c=tb(c,d),b=c):(xb=b,b=H)}else xb=b,b=H;return b}function A(){var b,c,d;if(b=xb,c=[],ub.test(a.charAt(xb))?(d=a.charAt(xb),xb++):(d=E,0===Db&&e(vb)),d!==E)for(;d!==E;)c.push(d),ub.test(a.charAt(xb))?(d=a.charAt(xb),xb++):(d=E,0===Db&&e(vb));else c=H;return c!==E&&(yb=b,c=wb(c)),b=c}function B(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}var C,D=arguments.length>1?arguments[1]:{},E={},F={visualFormatString:g},G=g,H=E,I=null,J=":",K={type:"literal",value:":",description:'":"'},L=function(a,b,c,d,e,f){return{orientation:a?a[0]:"horizontal",cascade:(b||[]).concat([c],[].concat.apply([],d),e||[])}},M="H",N={type:"literal",value:"H",description:'"H"'},O="V",P={type:"literal",value:"V",description:'"V"'},Q="Z",R={type:"literal",value:"Z",description:'"Z"'},S=function(a){return"H"==a?"horizontal":"V"==a?"vertical":"zIndex"},T=" ",U={type:"literal",value:" ",description:'" "'},V="//",W={type:"literal",value:"//",description:'"//"'},X={type:"any",description:"any character"},Y="|",Z={type:"literal",value:"|",description:'"|"'},$=function(){return{view:null}},_="[",aa={type:"literal",value:"[",description:'"["'},ba="]",ca={type:"literal",value:"]",description:'"]"'},da=function(a,b){return B(a,b?{constraints:b}:{})},ea="-",fa={type:"literal",value:"-",description:'"-"'},ga=function(a){return a},ha=function(){return[{relation:"equ",constant:"default",$parserOffset:c()}]},ia="",ja=function(){return[{relation:"equ",constant:0,$parserOffset:c()}]},ka=function(a){return[{relation:"equ",constant:a,$parserOffset:c()}]},la="(",ma={type:"literal",value:"(",description:'"("'},na=",",oa={type:"literal",value:",",description:'","'},pa=")",qa={type:"literal",value:")",description:'")"'},ra=function(a,b){return[a].concat(b.map(function(a){return a[1]}))},sa="@",ta={type:"literal",value:"@",description:'"@"'},ua=function(a,b,c){return B({relation:"equ"},a||{},b,c?c[1]:{})},va="==",wa={type:"literal",value:"==",description:'"=="'},xa=function(){return{relation:"equ",$parserOffset:c()}},ya="<=",za={type:"literal",value:"<=",description:'"<="'},Aa=function(){return{relation:"leq",$parserOffset:c()}},Ba=">=",Ca={type:"literal",value:">=",description:'">="'},Da=function(){return{relation:"geq",$parserOffset:c()}},Ea=function(a){return{priority:a}},Fa=function(a){return{constant:a}},Ga="%",Ha={type:"literal",value:"%",description:'"%"'},Ia=function(a){return{view:null,multiplier:a/100}},Ja=function(a,b,c,d){return{view:a.view,attribute:b?b:void 0,multiplier:c?c:1,constant:d?d:void 0}},Ka=".left",La={type:"literal",value:".left",description:'".left"'},Ma=function(){return"left"},Na=".right",Oa={type:"literal",value:".right",description:'".right"'},Pa=function(){return"right"},Qa=".top",Ra={type:"literal",value:".top",description:'".top"'},Sa=function(){return"top"},Ta=".bottom",Ua={type:"literal",value:".bottom",description:'".bottom"'},Va=function(){return"bottom"},Wa=".width",Xa={type:"literal",value:".width",description:'".width"'},Ya=function(){return"width"},Za=".height",$a={
type:"literal",value:".height",description:'".height"'},_a=function(){return"height"},ab=".centerX",bb={type:"literal",value:".centerX",description:'".centerX"'},cb=function(){return"centerX"},db=".centerY",eb={type:"literal",value:".centerY",description:'".centerY"'},fb=function(){return"centerY"},gb="/",hb={type:"literal",value:"/",description:'"/"'},ib=function(a){return 1/a},jb="*",kb={type:"literal",value:"*",description:'"*"'},lb=function(a){return a},mb=function(a){return-a},nb="+",ob={type:"literal",value:"+",description:'"+"'},pb=/^[a-zA-Z_]/,qb={type:"class",value:"[a-zA-Z_]",description:"[a-zA-Z_]"},rb=/^[a-zA-Z0-9_]/,sb={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},tb=function(a,b){return{view:a+b}},ub=/^[0-9]/,vb={type:"class",value:"[0-9]",description:"[0-9]"},wb=function(a){return parseInt(a.join(""),10)},xb=0,yb=0,zb=0,Ab={line:1,column:1,seenCR:!1},Bb=0,Cb=[],Db=0;if("startRule"in D){if(!(D.startRule in F))throw new Error("Can't start parsing from rule \""+D.startRule+'".');G=F[D.startRule]}if(C=G(),C!==E&&xb===a.length)return C;throw C!==E&&xb<a.length&&e({type:"end",description:"end of input"}),f(null,Cb,Bb)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}]},{},[2])(2)});