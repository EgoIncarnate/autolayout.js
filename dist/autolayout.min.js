/**
* This Source Code is licensed under the MIT license. If a copy of the
* MIT-license was not distributed with this file, You can obtain one at:
* http://opensource.org/licenses/mit-license.html.
*
* @author: Hein Rutjes (IjzerenHein)
* @license MIT
* @copyright Gloey Apps, 2015
*
* @library autolayout.js
* @version 0.0.1
* @generated 11-06-2015
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.AutoLayout=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY"};c["default"]=d,b.exports=c["default"]},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Attribute.es6"),f=d(e),g=a("./Relation.es6"),h=d(g),i=a("./VisualFormat.es6"),j=d(i),k=a("./View.es6"),l=d(k),m=a("./SubView.es6"),n=d(m),o={Attribute:f["default"],Relation:h["default"],VisualFormat:j["default"],View:l["default"],SubView:n["default"]};c["default"]=o,b.exports=c["default"]},{"./Attribute.es6":1,"./Relation.es6":3,"./SubView.es6":4,"./View.es6":5,"./VisualFormat.es6":6}],3:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={LEQ:"leq",EQU:"equ",GEQ:"geq"};c["default"]=d,b.exports=c["default"]},{}],4:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h="undefined"!=typeof window?window.c:"undefined"!=typeof d?d.c:null,i=e(h),j=a("./Attribute.es6"),k=e(j),l=function(){function a(b){f(this,a),this._name=b.name,this._solver=b.solver,this._attr={},b.name||(this._attr[k["default"].LEFT]=new i["default"].Variable({value:0}),this._solver.addConstraint(new i["default"].StayConstraint(this._attr[k["default"].LEFT],i["default"].Strength.required,0)),this._attr[k["default"].TOP]=new i["default"].Variable({value:0}),this._solver.addConstraint(new i["default"].StayConstraint(this._attr[k["default"].TOP],i["default"].Strength.required,0)),this._attr[k["default"].WIDTH]=new i["default"].Variable({value:0}),this._solver.addEditVar(this._attr[k["default"].WIDTH]),this._attr[k["default"].HEIGHT]=new i["default"].Variable({value:0}),this._solver.addEditVar(this._attr[k["default"].HEIGHT]))}return g(a,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttr(k["default"].LEFT).value}},{key:"right",get:function(){return this._getAttr(k["default"].RIGHT).value}},{key:"width",get:function(){return this._getAttr(k["default"].WIDTH).value}},{key:"height",get:function(){return this._getAttr(k["default"].HEIGHT).value}},{key:"top",get:function(){return this._getAttr(k["default"].TOP).value}},{key:"bottom",get:function(){return this._getAttr(k["default"].BOTTOM).value}},{key:"centerX",get:function(){return this._getAttr(k["default"].CENTERX).value}},{key:"centerY",get:function(){return this._getAttr(k["default"].CENTERY).value}},{key:"getValue",value:function(a){return this._attr[a]?this._attr[a].value:void 0}},{key:"_getAttr",value:function(a){if(this._attr[a])return this._attr[a];switch(a){case k["default"].LEFT:case k["default"].TOP:case k["default"].WIDTH:case k["default"].HEIGHT:this._attr[a]=new i["default"].Variable({value:0});break;case k["default"].RIGHT:this._getAttr(k["default"].LEFT),this._getAttr(k["default"].WIDTH),this._attr[k["default"].RIGHT]=new i["default"].Variable,this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].RIGHT],i["default"].plus(this._attr[k["default"].LEFT],this._attr[k["default"].WIDTH])));break;case k["default"].BOTTOM:this._getAttr(k["default"].TOP),this._getAttr(k["default"].HEIGHT),this._attr[k["default"].BOTTOM]=new i["default"].Variable,this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].BOTTOM],i["default"].plus(this._attr[k["default"].TOP],this._attr[k["default"].HEIGHT])));break;case k["default"].CENTERX:this._getAttr(k["default"].LEFT),this._getAttr(k["default"].WIDTH),this._attr[k["default"].CENTERX]=new i["default"].Variable,this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].CENTERX],i["default"].plus(this._attr[k["default"].LEFT],i["default"].divide(this._attr[k["default"].WIDTH],2))));break;case k["default"].CENTERY:this._getAttr(k["default"].TOP),this._getAttr(k["default"].HEIGHT),this._attr[k["default"].CENTERY]=new i["default"].Variable,this._solver.addConstraint(new i["default"].Equation(this._attr[k["default"].CENTERY],i["default"].plus(this._attr[k["default"].TOP],i["default"].divide(this._attr[k["default"].HEIGHT],2))))}return this._attr[a]}}]),a}();c["default"]=l,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Attribute.es6":1}],5:[function(a,b,c){(function(d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){var c=new m["default"].Variable({value:b});return this._solver.addConstraint(new m["default"].StayConstraint(c,m["default"].Strength.required,0)),c}function h(a){return a?(this._subViews[a]=this._subViews[a]||new s["default"]({name:a,solver:this._solver}),this._subViews[a]):this._parentSubView}function i(a){var b=4;if(a.view1||"left"!==a.attr1)if(a.view1||"top"!==a.attr1)if(a.view2||"right"!==a.attr2)if(a.view2||"bottom"!==a.attr2)switch(a.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":b=4;break;default:b=5}else b=2;else b=1;else b=0;else b=3;return this._spacingVars=this._spacingVars||new Array(6),this._spacingVars[b]||(this._spacingVars[b]=new m["default"].Variable({value:this._spacing[b],name:"spacing["+b+"]"}),this._solver.addEditVar(this._spacingVars[b])),this._spacingVars[b]}function j(a){var b=void 0,c=void 0!==a.multiplier?a.multiplier:1,d=void 0!==a.constant?a.constant:0;"default"===d&&(d=i.call(this,a));var e=h.call(this,a.view1)._getAttr(a.attr1),f=void 0;switch(a.attr2===o["default"].CONST?f=g.call(this,void 0,a.constant):(f=h.call(this,a.view2)._getAttr(a.attr2),1!==c&&d?f=m["default"].times(m["default"].minus(f,d),c):d?f=m["default"].minus(f,d):1!==c&&(f=m["default"].times(f,c))),a.relation){case q["default"].EQU:b=new m["default"].Equation(e,f);break;case q["default"].GEQ:b=new m["default"].Inequality(e,m["default"].GEQ,f);break;case q["default"].LEQ:b=new m["default"].Inequality(e,m["default"].LEQ,f);break;default:throw"Invalid relation specified: "+a.relation}this._solver.addConstraint(b)}Object.defineProperty(c,"__esModule",{value:!0});var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l="undefined"!=typeof window?window.c:"undefined"!=typeof d?d.c:null,m=e(l),n=a("./Attribute.es6"),o=e(n),p=a("./Relation.es6"),q=e(p),r=a("./SubView.es6"),s=e(r),t=function(){function a(b){f(this,a),this._solver=new m["default"].SimplexSolver,this._subViews={},this._spacing={},this._parentSubView=new s["default"]({solver:this._solver}),this.setSpacing(b&&void 0!==b.spacing?b.spacing:8),b&&((void 0!==b.width||void 0!==b.height)&&this.setSize(b.width,b.height),b.constraints&&this.addConstraints(b.constraints))}return k(a,[{key:"setSize",value:function(a,b){return this._width===a&&this._height===b?void 0:(void 0!==a&&this._width!==a&&(this._width=a,this._solver.suggestValue(this._parentSubView._getAttr(o["default"].WIDTH),this._width)),void 0!==b&&this._height!==b&&(this._height=b,this._solver.suggestValue(this._parentSubView._getAttr(o["default"].HEIGHT),this._height)),this._solver.resolve(),this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"setSpacing",value:function(a){switch(Array.isArray(a)?a.length:-1){case-1:a=[a,a,a,a,a,a];break;case 1:a=[a[0],a[0],a[0],a[0],a[0],a[0]];break;case 2:a=[a[1],a[0],a[1],a[0],a[0],a[1]];break;case 6:break;default:throw"Invalid spacing syntax"}if(this._spacing=a,this._spacingVars){for(var b=0;b<this._spacingVars.length;b++)this._spacingVars[b]&&this._solver.suggestValue(this._spacingVars[b],this._spacing[b]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(a){return j.call(this,a),this}},{key:"addConstraints",value:function(a){for(var b=0;b<a.length;b++)j.call(this,a[b]);return this}},{key:"subViews",get:function(){return this._subViews}}]),a}();c["default"]=t,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Attribute.es6":1,"./Relation.es6":3,"./SubView.es6":4}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./parser/parser"),h=d(g),i=a("./parser/parserExt"),j=d(i),k=a("./Attribute.es6"),l=d(k),m=function(){function a(){e(this,a)}return f(a,null,[{key:"parseLine",value:function(a,b){if(0===a.length)return[];var c=[],d=b&&b.extended?j["default"].parse(a):h["default"].parse(a);if(b&&"raw"===b.outFormat)return[d];for(var e="horizontal"===d.orientation,f=void 0,g=void 0,i=void 0,k=void 0,m=void 0,n=void 0,o=0;o<d.cascade.length;o++)if(n=d.cascade[o],!Array.isArray(n)&&n.hasOwnProperty("view")){if(f=g,g=n.view,void 0!==f&&void 0!==g&&i&&(k=e?l["default"].RIGHT:l["default"].BOTTOM,m=e?l["default"].LEFT:l["default"].TOP,f||(k=e?l["default"].LEFT:l["default"].TOP),g||(m=e?l["default"].RIGHT:l["default"].BOTTOM),c.push({view1:f,attr1:k,relation:i.relation,view2:g,attr2:m,multiplier:i.multiplier,constant:i.constant})),i=void 0,n.constraints)for(var p=0;p<n.constraints.length;p++)k=e?l["default"].WIDTH:l["default"].HEIGHT,m=n.constraints[p].view||n.constraints[p].multiplier?k:n.constraints[p].variable?l["default"].VARIABLE:l["default"].CONST,c.push({view1:n.view,attr1:k,relation:n.constraints[p].relation,view2:n.constraints[p].view,attr2:m,multiplier:n.constraints[p].multiplier,constant:n.constraints[p].constant})}else i=n[0];return c}},{key:"parse",value:function(a,b){var c=b&&b.lineSeperator?b.lineSeperator:"\n";if(!Array.isArray(a)&&a.indexOf(c)<0)try{return this.parseLine(a,b)}catch(d){throw d.source=a,d}a=Array.isArray(a)?a:[a];var e=void 0,f=[],g=0,h=void 0;try{for(var i=0;i<a.length;i++){e=a[i].split(c);for(var j=0;j<e.length;j++)h=e[j],g++,f=f.concat(this.parseLine(h,b))}}catch(d){throw d.source=h,d.line=g,d}return f}}]),a}();c["default"]=m,b.exports=c["default"]},{"./Attribute.es6":1,"./parser/parser":7,"./parser/parserExt":8}],7:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return Aa}function d(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Ba!==b&&(Ba>b&&(Ba=0,Ca={line:1,column:1,seenCR:!1}),c(Ca,Ba,b),Ba=b),Ca}function e(a){Da>za||(za>Da&&(Da=za,Ea=[]),Ea.push(a))}function f(c,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==c?c:h(e,j),e,j,f,i.line,i.column)}function g(){var b,c,d,f,g,l,m,n;if(b=za,c=za,d=h(),d!==y?(58===a.charCodeAt(za)?(f=D,za++):(f=y,0===Fa&&e(E)),f!==y?(d=[d,f],c=d):(za=c,c=B)):(za=c,c=B),c===y&&(c=C),c!==y)if(d=za,f=i(),f!==y?(g=k(),g!==y?(f=[f,g],d=f):(za=d,d=B)):(za=d,d=B),d===y&&(d=C),d!==y)if(f=j(),f!==y){for(g=[],l=za,m=k(),m!==y?(n=j(),n!==y?(m=[m,n],l=m):(za=l,l=B)):(za=l,l=B);l!==y;)g.push(l),l=za,m=k(),m!==y?(n=j(),n!==y?(m=[m,n],l=m):(za=l,l=B)):(za=l,l=B);g!==y?(l=za,m=k(),m!==y?(n=i(),n!==y?(m=[m,n],l=m):(za=l,l=B)):(za=l,l=B),l===y&&(l=C),l!==y?(Aa=b,c=F(c,d,f,g,l),b=c):(za=b,b=B)):(za=b,b=B)}else za=b,b=B;else za=b,b=B;else za=b,b=B;return b}function h(){var b,c;return b=za,72===a.charCodeAt(za)?(c=G,za++):(c=y,0===Fa&&e(H)),c===y&&(86===a.charCodeAt(za)?(c=I,za++):(c=y,0===Fa&&e(J))),c!==y&&(Aa=b,c=K(c)),b=c}function i(){var b,c;return b=za,124===a.charCodeAt(za)?(c=L,za++):(c=y,0===Fa&&e(M)),c!==y&&(Aa=b,c=N()),b=c}function j(){var b,c,d,f,g;return b=za,91===a.charCodeAt(za)?(c=O,za++):(c=y,0===Fa&&e(P)),c!==y?(d=t(),d!==y?(f=n(),f===y&&(f=C),f!==y?(93===a.charCodeAt(za)?(g=Q,za++):(g=y,0===Fa&&e(R)),g!==y?(Aa=b,c=S(d,f),b=c):(za=b,b=B)):(za=b,b=B)):(za=b,b=B)):(za=b,b=B),b}function k(){var b,c,d,f;return b=za,45===a.charCodeAt(za)?(c=T,za++):(c=y,0===Fa&&e(U)),c!==y?(d=l(),d!==y?(45===a.charCodeAt(za)?(f=T,za++):(f=y,0===Fa&&e(U)),f!==y?(Aa=b,c=V(d),b=c):(za=b,b=B)):(za=b,b=B)):(za=b,b=B),b===y&&(b=za,45===a.charCodeAt(za)?(c=T,za++):(c=y,0===Fa&&e(U)),c!==y&&(Aa=b,c=W()),b=c,b===y&&(b=za,c=X,c!==y&&(Aa=b,c=Y()),b=c)),b}function l(){var a;return a=m(),a===y&&(a=n()),a}function m(){var a,b;return a=za,b=u(),b!==y&&(Aa=a,b=Z(b)),a=b}function n(){var b,c,d,f,g,h,i;if(b=za,40===a.charCodeAt(za)?(c=$,za++):(c=y,0===Fa&&e(_)),c!==y)if(d=o(),d!==y){for(f=[],g=za,44===a.charCodeAt(za)?(h=aa,za++):(h=y,0===Fa&&e(ba)),h!==y?(i=o(),i!==y?(h=[h,i],g=h):(za=g,g=B)):(za=g,g=B);g!==y;)f.push(g),g=za,44===a.charCodeAt(za)?(h=aa,za++):(h=y,0===Fa&&e(ba)),h!==y?(i=o(),i!==y?(h=[h,i],g=h):(za=g,g=B)):(za=g,g=B);f!==y?(41===a.charCodeAt(za)?(g=ca,za++):(g=y,0===Fa&&e(da)),g!==y?(Aa=b,c=ea(d,f),b=c):(za=b,b=B)):(za=b,b=B)}else za=b,b=B;else za=b,b=B;return b}function o(){var b,c,d,f,g,h;return b=za,c=p(),c===y&&(c=C),c!==y?(d=q(),d!==y?(f=za,64===a.charCodeAt(za)?(g=fa,za++):(g=y,0===Fa&&e(ga)),g!==y?(h=r(),h!==y?(g=[g,h],f=g):(za=f,f=B)):(za=f,f=B),f===y&&(f=C),f!==y?(Aa=b,c=ha(c,d,f),b=c):(za=b,b=B)):(za=b,b=B)):(za=b,b=B),b}function p(){var b,c;return b=za,a.substr(za,2)===ia?(c=ia,za+=2):(c=y,0===Fa&&e(ja)),c!==y&&(Aa=b,c=ka()),b=c,b===y&&(b=za,a.substr(za,2)===la?(c=la,za+=2):(c=y,0===Fa&&e(ma)),c!==y&&(Aa=b,c=na()),b=c,b===y&&(b=za,a.substr(za,2)===oa?(c=oa,za+=2):(c=y,0===Fa&&e(pa)),c!==y&&(Aa=b,c=qa()),b=c)),b}function q(){var a;return a=s(),a===y&&(a=t()),a}function r(){var a,b;return a=za,b=u(),b!==y&&(Aa=a,b=ra(b)),a=b}function s(){var a,b;return a=za,b=u(),b!==y&&(Aa=a,b=sa(b)),a=b}function t(){var b,c,d,f;if(b=za,c=za,d=[],ta.test(a.charAt(za))?(f=a.charAt(za),za++):(f=y,0===Fa&&e(ua)),f!==y)for(;f!==y;)d.push(f),ta.test(a.charAt(za))?(f=a.charAt(za),za++):(f=y,0===Fa&&e(ua));else d=B;return d!==y&&(d=a.substring(c,za)),c=d,c!==y&&(Aa=b,c=va(c)),b=c}function u(){var b,c,d;if(b=za,c=[],wa.test(a.charAt(za))?(d=a.charAt(za),za++):(d=y,0===Fa&&e(xa)),d!==y)for(;d!==y;)c.push(d),wa.test(a.charAt(za))?(d=a.charAt(za),za++):(d=y,0===Fa&&e(xa));else c=B;return c!==y&&(Aa=b,c=ya(c)),b=c}function v(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}var w,x=arguments.length>1?arguments[1]:{},y={},z={visualFormatString:g},A=g,B=y,C=null,D=":",E={type:"literal",value:":",description:'":"'},F=function(a,b,c,d,e){return{orientation:a?a[0]:"horizontal",cascade:(b||[]).concat([c],[].concat.apply([],d),e||[])}},G="H",H={type:"literal",value:"H",description:'"H"'},I="V",J={type:"literal",value:"V",description:'"V"'},K=function(a){return"H"==a?"horizontal":"vertical"},L="|",M={type:"literal",value:"|",description:'"|"'},N=function(){return{view:null}},O="[",P={type:"literal",value:"[",description:'"["'},Q="]",R={type:"literal",value:"]",description:'"]"'},S=function(a,b){return v(a,b?{constraints:b}:{})},T="-",U={type:"literal",value:"-",description:'"-"'},V=function(a){return a},W=function(){return[{relation:"equ",constant:"default",$parserOffset:c()}]},X="",Y=function(){return[{relation:"equ",constant:0,$parserOffset:c()}]},Z=function(a){return[{relation:"equ",constant:a,$parserOffset:c()}]},$="(",_={type:"literal",value:"(",description:'"("'},aa=",",ba={type:"literal",value:",",description:'","'},ca=")",da={type:"literal",value:")",description:'")"'},ea=function(a,b){return[a].concat(b.map(function(a){return a[1]}))},fa="@",ga={type:"literal",value:"@",description:'"@"'},ha=function(a,b,c){return v({relation:"equ"},a||{},b,c?c[1]:{})},ia="==",ja={type:"literal",value:"==",description:'"=="'},ka=function(){return{relation:"equ",$parserOffset:c()}},la="<=",ma={type:"literal",value:"<=",description:'"<="'},na=function(){return{relation:"leq",$parserOffset:c()}},oa=">=",pa={type:"literal",value:">=",description:'">="'},qa=function(){return{relation:"geq",$parserOffset:c()}},ra=function(a){return{priority:a}},sa=function(a){return{constant:a}},ta=/^[a-zA-Z0-9\-_]/,ua={type:"class",value:"[a-zA-Z0-9\\-_]",description:"[a-zA-Z0-9\\-_]"},va=function(a){return{view:a}},wa=/^[0-9]/,xa={type:"class",value:"[0-9]",description:"[0-9]"},ya=function(a){return parseInt(a.join(""),10)},za=0,Aa=0,Ba=0,Ca={line:1,column:1,seenCR:!1},Da=0,Ea=[],Fa=0;if("startRule"in x){if(!(x.startRule in z))throw new Error("Can't start parsing from rule \""+x.startRule+'".');A=z[x.startRule]}if(w=A(),w!==y&&za===a.length)return w;throw w!==y&&za<a.length&&e({type:"end",description:"end of input"}),f(null,Ea,Da)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}],8:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return Na}function d(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Oa!==b&&(Oa>b&&(Oa=0,Pa={line:1,column:1,seenCR:!1}),c(Pa,Oa,b),Oa=b),Pa}function e(a){Qa>Ma||(Ma>Qa&&(Qa=Ma,Ra=[]),Ra.push(a))}function f(c,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==c?c:h(e,j),e,j,f,i.line,i.column)}function g(){var b,c,d,f,g,l,m,n;if(b=Ma,c=Ma,d=h(),d!==B?(58===a.charCodeAt(Ma)?(f=G,Ma++):(f=B,0===Sa&&e(H)),f!==B?(d=[d,f],c=d):(Ma=c,c=E)):(Ma=c,c=E),c===B&&(c=F),c!==B)if(d=Ma,f=i(),f!==B?(g=k(),g!==B?(f=[f,g],d=f):(Ma=d,d=E)):(Ma=d,d=E),d===B&&(d=F),d!==B)if(f=j(),f!==B){for(g=[],l=Ma,m=k(),m!==B?(n=j(),n!==B?(m=[m,n],l=m):(Ma=l,l=E)):(Ma=l,l=E);l!==B;)g.push(l),l=Ma,m=k(),m!==B?(n=j(),n!==B?(m=[m,n],l=m):(Ma=l,l=E)):(Ma=l,l=E);g!==B?(l=Ma,m=k(),m!==B?(n=i(),n!==B?(m=[m,n],l=m):(Ma=l,l=E)):(Ma=l,l=E),l===B&&(l=F),l!==B?(Na=b,c=I(c,d,f,g,l),b=c):(Ma=b,b=E)):(Ma=b,b=E)}else Ma=b,b=E;else Ma=b,b=E;else Ma=b,b=E;return b}function h(){var b,c;return b=Ma,72===a.charCodeAt(Ma)?(c=J,Ma++):(c=B,0===Sa&&e(K)),c===B&&(86===a.charCodeAt(Ma)?(c=L,Ma++):(c=B,0===Sa&&e(M))),c!==B&&(Na=b,c=N(c)),b=c}function i(){var b,c;return b=Ma,124===a.charCodeAt(Ma)?(c=O,Ma++):(c=B,0===Sa&&e(P)),c!==B&&(Na=b,c=Q()),b=c}function j(){var b,c,d,f,g;return b=Ma,91===a.charCodeAt(Ma)?(c=R,Ma++):(c=B,0===Sa&&e(S)),c!==B?(d=w(),d!==B?(f=n(),f===B&&(f=F),f!==B?(93===a.charCodeAt(Ma)?(g=T,Ma++):(g=B,0===Sa&&e(U)),g!==B?(Na=b,c=V(d,f),b=c):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E),b}function k(){var b,c,d,f;return b=Ma,45===a.charCodeAt(Ma)?(c=W,Ma++):(c=B,0===Sa&&e(X)),c!==B?(d=l(),d!==B?(45===a.charCodeAt(Ma)?(f=W,Ma++):(f=B,0===Sa&&e(X)),f!==B?(Na=b,c=Y(d),b=c):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E),b===B&&(b=Ma,45===a.charCodeAt(Ma)?(c=W,Ma++):(c=B,0===Sa&&e(X)),c!==B&&(Na=b,c=Z()),b=c,b===B&&(b=Ma,c=$,c!==B&&(Na=b,c=_()),b=c)),b}function l(){var a;return a=m(),a===B&&(a=n()),a}function m(){var a,b;return a=Ma,b=x(),b!==B&&(Na=a,b=aa(b)),a=b}function n(){var b,c,d,f,g,h,i;if(b=Ma,40===a.charCodeAt(Ma)?(c=ba,Ma++):(c=B,0===Sa&&e(ca)),c!==B)if(d=o(),d!==B){for(f=[],g=Ma,44===a.charCodeAt(Ma)?(h=da,Ma++):(h=B,0===Sa&&e(ea)),h!==B?(i=o(),i!==B?(h=[h,i],g=h):(Ma=g,g=E)):(Ma=g,g=E);g!==B;)f.push(g),g=Ma,44===a.charCodeAt(Ma)?(h=da,Ma++):(h=B,0===Sa&&e(ea)),h!==B?(i=o(),i!==B?(h=[h,i],g=h):(Ma=g,g=E)):(Ma=g,g=E);f!==B?(41===a.charCodeAt(Ma)?(g=fa,Ma++):(g=B,0===Sa&&e(ga)),g!==B?(Na=b,c=ha(d,f),b=c):(Ma=b,b=E)):(Ma=b,b=E)}else Ma=b,b=E;else Ma=b,b=E;return b}function o(){var b,c,d,f,g,h;return b=Ma,c=p(),c===B&&(c=F),c!==B?(d=q(),d!==B?(f=Ma,64===a.charCodeAt(Ma)?(g=ia,Ma++):(g=B,0===Sa&&e(ja)),g!==B?(h=r(),h!==B?(g=[g,h],f=g):(Ma=f,f=E)):(Ma=f,f=E),f===B&&(f=F),f!==B?(Na=b,c=ka(c,d,f),b=c):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E),b}function p(){var b,c;return b=Ma,a.substr(Ma,2)===la?(c=la,Ma+=2):(c=B,0===Sa&&e(ma)),c!==B&&(Na=b,c=na()),b=c,b===B&&(b=Ma,a.substr(Ma,2)===oa?(c=oa,Ma+=2):(c=B,0===Sa&&e(pa)),c!==B&&(Na=b,c=qa()),b=c,b===B&&(b=Ma,a.substr(Ma,2)===ra?(c=ra,Ma+=2):(c=B,0===Sa&&e(sa)),c!==B&&(Na=b,c=ta()),b=c)),b}function q(){var a;return a=t(),a===B&&(a=s(),a===B&&(a=u())),a}function r(){var a,b;return a=Ma,b=x(),b!==B&&(Na=a,b=ua(b)),a=b}function s(){var a,b;return a=Ma,b=x(),b!==B&&(Na=a,b=va(b)),a=b}function t(){var b,c,d;return b=Ma,c=x(),c!==B?(37===a.charCodeAt(Ma)?(d=wa,Ma++):(d=B,0===Sa&&e(xa)),d!==B?(Na=b,c=ya(c),b=c):(Ma=b,b=E)):(Ma=b,b=E),b}function u(){var a,b,c;return a=Ma,b=w(),b!==B?(c=v(),c===B&&(c=F),c!==B?(Na=a,b=za(b,c),a=b):(Ma=a,a=E)):(Ma=a,a=E),a}function v(){var b,c,d;return b=Ma,47===a.charCodeAt(Ma)?(c=Aa,Ma++):(c=B,0===Sa&&e(Ba)),c!==B?(d=x(),d!==B?(Na=b,c=Ca(d),b=c):(Ma=b,b=E)):(Ma=b,b=E),b===B&&(b=Ma,42===a.charCodeAt(Ma)?(c=Da,Ma++):(c=B,0===Sa&&e(Ea)),c!==B?(d=x(),d!==B?(Na=b,c=Fa(d),b=c):(Ma=b,b=E)):(Ma=b,b=E)),b}function w(){var b,c,d,f;if(b=Ma,c=Ma,d=[],Ga.test(a.charAt(Ma))?(f=a.charAt(Ma),Ma++):(f=B,0===Sa&&e(Ha)),f!==B)for(;f!==B;)d.push(f),Ga.test(a.charAt(Ma))?(f=a.charAt(Ma),Ma++):(f=B,0===Sa&&e(Ha));else d=E;return d!==B&&(d=a.substring(c,Ma)),c=d,c!==B&&(Na=b,c=Ia(c)),b=c}function x(){var b,c,d;if(b=Ma,c=[],Ja.test(a.charAt(Ma))?(d=a.charAt(Ma),Ma++):(d=B,0===Sa&&e(Ka)),d!==B)for(;d!==B;)c.push(d),Ja.test(a.charAt(Ma))?(d=a.charAt(Ma),Ma++):(d=B,0===Sa&&e(Ka));else c=E;return c!==B&&(Na=b,c=La(c)),b=c}function y(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}var z,A=arguments.length>1?arguments[1]:{},B={},C={visualFormatString:g},D=g,E=B,F=null,G=":",H={type:"literal",value:":",description:'":"'},I=function(a,b,c,d,e){return{orientation:a?a[0]:"horizontal",cascade:(b||[]).concat([c],[].concat.apply([],d),e||[])}},J="H",K={type:"literal",value:"H",description:'"H"'},L="V",M={type:"literal",value:"V",description:'"V"'},N=function(a){return"H"==a?"horizontal":"vertical"},O="|",P={type:"literal",value:"|",description:'"|"'},Q=function(){return{view:null}},R="[",S={type:"literal",value:"[",description:'"["'},T="]",U={type:"literal",value:"]",description:'"]"'},V=function(a,b){return y(a,b?{constraints:b}:{})},W="-",X={type:"literal",value:"-",description:'"-"'},Y=function(a){return a},Z=function(){return[{relation:"equ",constant:"default",$parserOffset:c()}]},$="",_=function(){return[{relation:"equ",constant:0,$parserOffset:c()}]},aa=function(a){return[{relation:"equ",constant:a,$parserOffset:c()}]},ba="(",ca={type:"literal",value:"(",description:'"("'},da=",",ea={type:"literal",value:",",description:'","'},fa=")",ga={type:"literal",value:")",description:'")"'},ha=function(a,b){return[a].concat(b.map(function(a){return a[1]}))},ia="@",ja={type:"literal",value:"@",description:'"@"'},ka=function(a,b,c){return y({relation:"equ"},a||{},b,c?c[1]:{})},la="==",ma={type:"literal",value:"==",description:'"=="'},na=function(){return{relation:"equ",$parserOffset:c()}},oa="<=",pa={type:"literal",value:"<=",description:'"<="'},qa=function(){return{relation:"leq",$parserOffset:c()}},ra=">=",sa={type:"literal",value:">=",description:'">="'},ta=function(){return{relation:"geq",$parserOffset:c()}},ua=function(a){return{priority:a}},va=function(a){return{constant:a}},wa="%",xa={type:"literal",value:"%",description:'"%"'},ya=function(a){return{view:null,multiplier:a/100}},za=function(a,b){return{view:a.view,multiplier:b?b:1}},Aa="/",Ba={type:"literal",value:"/",description:'"/"'},Ca=function(a){return 1/a},Da="*",Ea={type:"literal",value:"*",description:'"*"'},Fa=function(a){return a},Ga=/^[a-zA-Z0-9\-_]/,Ha={type:"class",value:"[a-zA-Z0-9\\-_]",description:"[a-zA-Z0-9\\-_]"},Ia=function(a){return{view:a}},Ja=/^[0-9]/,Ka={type:"class",value:"[0-9]",description:"[0-9]"},La=function(a){return parseInt(a.join(""),10)},Ma=0,Na=0,Oa=0,Pa={line:1,column:1,seenCR:!1},Qa=0,Ra=[],Sa=0;if("startRule"in A){if(!(A.startRule in C))throw new Error("Can't start parsing from rule \""+A.startRule+'".');D=C[A.startRule]}if(z=D(),z!==B&&Ma===a.length)return z;throw z!==B&&Ma<a.length&&e({type:"end",description:"end of input"}),f(null,Ra,Qa)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}]},{},[2])(2)});