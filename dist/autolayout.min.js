/**
* This Source Code is licensed under the MIT license. If a copy of the
* MIT-license was not distributed with this file, You can obtain one at:
* http://opensource.org/licenses/mit-license.html.
*
* @author: Hein Rutjes (IjzerenHein)
* @license MIT
* @copyright Gloey Apps, 2015
*
* @library autolayout.js
* @version 0.1.0
* @generated 17-06-2015
*/
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.AutoLayout=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";(function(){!function(c){try{(function(){}).bind(c)}catch(d){Object.defineProperty(Function.prototype,"bind",{value:function(a){var b=this;return function(){return b.apply(a,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var e="undefined"!=typeof c.HTMLElement,f=function(a){for(var b=null;a&&a!=Object.prototype;){if(a.tagName){b=a.tagName;break}a=a.prototype}return b||"div"},g=1e-8,h={},i=function(a,b){for(var c=!0;c;){var d=a,e=b;if(f=void 0,c=!1,!d||!e)return;if("function"==typeof d[e])return d[e];var f=d.prototype;if(f&&"function"==typeof f[e])return f[e];if(f===Object.prototype||f===Function.prototype)return;"function"!=typeof d.__super__||(a=d.__super__,b=e,c=!0)}},j=c.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(a){var b=null,d=null;a["extends"]&&(d=a["extends"],delete a["extends"]),a.initialize&&(b=a.initialize,delete a.initialize);var g=b||function(){};Object.defineProperty(g,"__super__",{value:d?d:Object,enumerable:!1,configurable:!0,writable:!1}),a._t&&(h[a._t]=g);var i=g.prototype=Object.create(d?d.prototype:Object.prototype);if(this.extend(i,a),e&&d&&d.prototype instanceof c.HTMLElement){var j=g,k=f(i),l=function(a){return a.__proto__=i,j.apply(a,arguments),i.created&&a.created(),i.decorate&&a.decorate(),a};this.extend(i,{upgrade:l}),g=function(){return l(c.document.createElement(k))},g.prototype=i,this.extend(g,{ctor:j})}return g},extend:function(a,b){return this.own(b,function(c){var d=Object.getOwnPropertyDescriptor(b,c);try{"function"==typeof d.get||"function"==typeof d.set?Object.defineProperty(a,c,d):"function"==typeof d.value||"_"===c.charAt(0)?(d.writable=!0,d.configurable=!0,d.enumerable=!1,Object.defineProperty(a,c,d)):a[c]=b[c]}catch(e){}}),a},own:function(a,b,d){return Object.getOwnPropertyNames(a).forEach(b,d||c),a},traceprint:function(a){j.verbose&&console.log(a)},fnenterprint:function(a){console.log("* "+a)},fnexitprint:function(a){console.log("- "+a)},assert:function(a,b){if(!a)throw new j.InternalError("Assertion failed: "+b)},plus:function(a,b){return a instanceof j.Expression||(a=new j.Expression(a)),b instanceof j.Expression||(b=new j.Expression(b)),a.plus(b)},minus:function(a,b){return a instanceof j.Expression||(a=new j.Expression(a)),b instanceof j.Expression||(b=new j.Expression(b)),a.minus(b)},times:function(a,b){return("number"==typeof a||a instanceof j.Variable)&&(a=new j.Expression(a)),("number"==typeof b||b instanceof j.Variable)&&(b=new j.Expression(b)),a.times(b)},divide:function(a,b){return("number"==typeof a||a instanceof j.Variable)&&(a=new j.Expression(a)),("number"==typeof b||b instanceof j.Variable)&&(b=new j.Expression(b)),a.divide(b)},approx:function(a,b){if(a===b)return!0;var c,d;return c=a instanceof j.Variable?a.value:a,d=b instanceof j.Variable?b.value:b,0==c?Math.abs(d)<g:0==d?Math.abs(c)<g:Math.abs(c-d)<Math.abs(c)*g},_inc:function(a){return function(){return a++}}(0),parseJSON:function(a){return JSON.parse(a,function(a,b){if("object"!=typeof b||"string"!=typeof b._t)return b;var c=b._t,d=h[c];if(c&&d){var e=i(d,"fromJSON");if(e)return e(b,d)}return b})}};"function"==typeof a&&"undefined"!=typeof b&&"undefined"==typeof load&&(c.exports=j)}(this),function(a){var b=function(a){var b=a.hashCode?a.hashCode:a.toString();return b},c=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]})},d={};a.HashTable=a.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(a,c){var d=b(a);this._store.hasOwnProperty(d)||this.size++,this._store[d]=c,this._keyStrMap[d]=a},get:function(a){if(!this.size)return null;a=b(a);var c=this._store[a];return"undefined"!=typeof c?this._store[a]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var a={};c(this._store,a),this._store=a},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(a){a=b(a),this._store.hasOwnProperty(a)&&(this._deleted++,delete this._store[a],this.size>0&&this.size--)},each:function(a,b){if(this.size){this._perhapsCompact();var c=this._store,d=this._keyStrMap;Object.keys(this._store).forEach(function(e){a.call(b||null,d[e],c[e])},this)}},escapingEach:function(a,b){if(this.size){this._perhapsCompact();for(var c=this,e=this._store,f=this._keyStrMap,g=d,h=Object.keys(e),i=0;i<h.length;i++)if(function(d){c._store.hasOwnProperty(d)&&(g=a.call(b||null,f[d],e[d]))}(h[i]),g){if(void 0!==g.retval)return g;if(g.brk)break}}},clone:function(){var b=new a.HashTable;return this.size&&(b.size=this.size,c(this._store,b._store),c(this._keyStrMap,b._keyStrMap)),b},equals:function(b){if(b===this)return!0;if(!(b instanceof a.HashTable)||b._size!==this._size)return!1;for(var c=Object.keys(this._store),d=0;d<c.length;d++){var e=c[d];if(this._keyStrMap[e]!==b._keyStrMap[e]||this._store[e]!==b._store[e])return!1}return!0},toString:function(a){var b="";return this.each(function(a,c){b+=a+" => "+c+"\n"}),b}})}(this.c||b.parent.exports||{}),function(a){a.HashSet=a.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(a){var b=this.storage;b.indexOf(a);-1==b.indexOf(a)&&b.push(a),this.size=this.storage.length},values:function(){return this.storage},has:function(a){var b=this.storage;return-1!=b.indexOf(a)},"delete":function(a){var b=this.storage.indexOf(a);return-1==b?null:(this.storage.splice(b,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(a,b){this.size&&this.storage.forEach(a,b)},escapingEach:function(a,b){this.size&&this.storage.forEach(a,b)},toString:function(){var a=this.size+" {",b=!0;return this.each(function(c){b?b=!1:a+=", ",a+=c}),a+="}\n"},toJSON:function(){var a=[];return this.each(function(b){a.push(b.toJSON())}),{_t:"c.HashSet",data:a}},fromJSON:function(b){var c=new a.HashSet;return b.data&&(c.size=b.data.length,c.storage=b.data),c}})}(this.c||b.parent.exports||{}),function(a){a.Error=a.inherit(Object.defineProperties({initialize:function(a){a&&(this._description=a)},_name:"c.Error",_description:"An error has occured in Cassowary",toString:function(){return this.description}},{description:{set:function(a){this._description=a},get:function(){return"("+this._name+") "+this._description},configurable:!0,enumerable:!0},message:{get:function(){return this.description},configurable:!0,enumerable:!0}}));var b=function(b,c){return a.inherit({"extends":a.Error,initialize:function(){a.Error.apply(this,arguments)},_name:b||"",_description:c||""})};a.ConstraintNotFound=b("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),a.InternalError=b("c.InternalError"),a.NonExpression=b("c.NonExpression","The resulting expression would be non"),a.NotEnoughStays=b("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),a.RequiredFailure=b("c.RequiredFailure","A required constraint cannot be satisfied"),a.TooDifficult=b("c.TooDifficult","The constraints are too difficult to solve")}(this.c||b.parent.exports||{}),function(a){var b=1e3;a.SymbolicWeight=a.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var a=1,c=arguments.length-1;c>=0;--c)this.value+=arguments[c]*a,a*=b},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||b.parent.exports||{}),function(a){a.Strength=a.inherit(Object.defineProperties({initialize:function(b,c,d,e){this.name=b,c instanceof a.SymbolicWeight?this.symbolicWeight=c:this.symbolicWeight=new a.SymbolicWeight(c,d,e)},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}},{required:{get:function(){return this===a.Strength.required},configurable:!0,enumerable:!0}})),a.Strength.required=new a.Strength("<Required>",1e3,1e3,1e3),a.Strength.strong=new a.Strength("strong",1,0,0),a.Strength.medium=new a.Strength("medium",0,1,0),a.Strength.weak=new a.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof b?b.parent.exports.c:{})),function(a){a.AbstractVariable=a.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(b,c){this.hashCode=a._inc(),this.name=(c||"")+this.hashCode,b&&("undefined"!=typeof b.name&&(this.name=b.name),"undefined"!=typeof b.value&&(this.value=b.value),"undefined"!=typeof b.prefix&&(this._prefix=b.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var a={};return this._t&&(a._t=this._t),this.name&&(a.name=this.name),"undefined"!=typeof this.value&&(a.value=this.value),this._prefix&&(a._prefix=this._prefix),this._t&&(a._t=this._t),a},fromJSON:function(b,c){var d=new c;return a.extend(d,b),d},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),a.Variable=a.inherit({_t:"c.Variable","extends":a.AbstractVariable,initialize:function(b){this._init(b,"v");var c=a.Variable._map;c&&(c[this.name]=this)},isExternal:!0}),a.DummyVariable=a.inherit({_t:"c.DummyVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),a.ObjectiveVariable=a.inherit({_t:"c.ObjectiveVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"o")},value:"obj"}),a.SlackVariable=a.inherit({_t:"c.SlackVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||b.parent.exports||{}),function(a){a.Point=a.inherit(Object.defineProperties({initialize:function(b,c,d){if(b instanceof a.Variable)this._x=b;else{var e={value:b};d&&(e.name="x"+d),this._x=new a.Variable(e)}if(c instanceof a.Variable)this._y=c;else{var f={value:c};d&&(f.name="y"+d),this._y=new a.Variable(f)}},toString:function(){return"("+this.x+", "+this.y+")"}},{x:{get:function(){return this._x},set:function(b){b instanceof a.Variable?this._x=b:this._x.value=b},configurable:!0,enumerable:!0},y:{get:function(){return this._y},set:function(b){b instanceof a.Variable?this._y=b:this._y.value=b},configurable:!0,enumerable:!0}}))}(this.c||b.parent.exports||{}),function(a){a.Expression=a.inherit(Object.defineProperties({initialize:function(b,c,d){a.GC&&console.log("new c.Expression"),this.constant="number"!=typeof d||isNaN(d)?0:d,this.terms=new a.HashTable,b instanceof a.AbstractVariable?this.setVariable(b,"number"==typeof c?c:1):"number"==typeof b&&(isNaN(b)?console.trace():this.constant=b)},initializeFromHash:function(b,c){return a.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),a.GC&&console.log("clone c.Expression"),this.constant=b,this.terms=c.clone(),this},multiplyMe:function(a){this.constant*=a;var b=this.terms;return b.each(function(c,d){b.set(c,d*a)}),this},clone:function(){a.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var b=new a.Expression;return b.initializeFromHash(this.constant,this.terms),b},times:function(b){if("number"==typeof b)return this.clone().multiplyMe(b);if(this.isConstant)return b.times(this.constant);if(b.isConstant)return this.times(b.constant);throw new a.NonExpression},plus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,1):b instanceof a.Variable?this.clone().addVariable(b,1):void 0},minus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,-1):b instanceof a.Variable?this.clone().addVariable(b,-1):void 0},divide:function(b){if("number"==typeof b){if(a.approx(b,0))throw new a.NonExpression;return this.times(1/b)}if(b instanceof a.Expression){if(!b.isConstant)throw new a.NonExpression;return this.times(1/b.constant)}},addExpression:function(b,c,d,e){return b instanceof a.AbstractVariable&&(b=new a.Expression(b),a.trace&&console.log("addExpression: Had to cast a var to an expression")),c=c||1,this.constant+=c*b.constant,b.terms.each(function(a,b){this.addVariable(a,b*c,d,e)},this),this},addVariable:function(b,c,d,e){null==c&&(c=1),a.trace&&console.log("c.Expression::addVariable():",b,c);var f=this.terms.get(b);if(f){var g=f+c;0==g||a.approx(g,0)?(e&&e.noteRemovedVariable(b,d),this.terms["delete"](b)):this.setVariable(b,g)}else a.approx(c,0)||(this.setVariable(b,c),e&&e.noteAddedVariable(b,d));return this},setVariable:function(a,b){return this.terms.set(a,b),this},anyPivotableVariable:function(){if(this.isConstant)throw new a.InternalError("anyPivotableVariable called on a constant");var b=this.terms.escapingEach(function(a,b){return a.isPivotable?{retval:a}:void 0});return b&&void 0!==b.retval?b.retval:null},substituteOut:function(b,c,d,e){a.trace&&(a.fnenterprint("CLE:substituteOut: "+b+", "+c+", "+d+", ..."),a.traceprint("this = "+this));var f=this.setVariable.bind(this),g=this.terms,h=g.get(b);g["delete"](b),this.constant+=h*c.constant,c.terms.each(function(b,c){var i=g.get(b);if(i){var j=i+h*c;a.approx(j,0)?(e.noteRemovedVariable(b,d),g["delete"](b)):f(b,j)}else f(b,h*c),e&&e.noteAddedVariable(b,d)}),a.trace&&a.traceprint("Now this is "+this)},changeSubject:function(a,b){this.setVariable(a,this.newSubject(b))},newSubject:function(b){a.trace&&a.fnenterprint("newSubject:"+b);var c=1/this.terms.get(b);return this.terms["delete"](b),this.multiplyMe(-c),c},coefficientFor:function(a){return this.terms.get(a)||0},toString:function(){var b="",c=!1;if(!a.approx(this.constant,0)||this.isConstant){if(b+=this.constant,this.isConstant)return b;c=!0}return this.terms.each(function(a,d){c&&(b+=" + "),b+=d+"*"+a,c=!0}),b},equals:function(b){return b===this?!0:b instanceof a.Expression&&b.constant===this.constant&&b.terms.equals(this.terms)},Plus:function(a,b){return a.plus(b)},Minus:function(a,b){return a.minus(b)},Times:function(a,b){return a.times(b)},Divide:function(a,b){return a.divide(b)}},{isConstant:{get:function(){return 0==this.terms.size},configurable:!0,enumerable:!0}}))}(this.c||b.parent.exports||{}),function(a){a.AbstractConstraint=a.inherit(Object.defineProperties({initialize:function(b,c){this.hashCode=a._inc(),this.strength=b||a.Strength.required,this.weight=c||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}},{required:{get:function(){return this.strength===a.Strength.required},configurable:!0,enumerable:!0}}));var b=a.AbstractConstraint.prototype.toString,c=function(b,c,d){a.AbstractConstraint.call(this,c||a.Strength.strong,d),this.variable=b,this.expression=new a.Expression(b,-1,b.value)};a.EditConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+b.call(this)}}),a.StayConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+b.call(this)}});var d=a.Constraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(b,c,d){a.AbstractConstraint.call(this,c,d),this.expression=b}});a.Inequality=a.inherit({"extends":a.Constraint,_cloneOrNewCle:function(b){return b.clone?b.clone():new a.Expression(b)},initialize:function(b,c,e,f,g){var h=b instanceof a.Expression,i=e instanceof a.Expression,j=b instanceof a.AbstractVariable,k=e instanceof a.AbstractVariable,l="number"==typeof b,m="number"==typeof e;if((h||l)&&k){var n=b,o=c,p=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else if(j&&(i||m)){var n=e,o=c,p=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else{if(h&&m){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(l&&i){var s=e,o=c,t=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(h&&i){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(t),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(s));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(s),-1)}}else{if(h)return d.call(this,b,c,e);if(c==a.GEQ)d.call(this,new a.Expression(e),f,g),this.expression.multiplyMe(-1),this.expression.addVariable(b);else{if(c!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");d.call(this,new a.Expression(e),f,g),this.expression.addVariable(b,-1)}}}},isInequality:!0,toString:function(){return d.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),a.Equation=a.inherit({"extends":a.Constraint,initialize:function(b,c,e,f){if(b instanceof a.Expression&&!c||c instanceof a.Strength)d.call(this,b,c,e);else if(b instanceof a.AbstractVariable&&c instanceof a.Expression){var g=b,h=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.AbstractVariable&&"number"==typeof c){var g=b,k=c,i=e,j=f;d.call(this,new a.Expression(k),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.Expression&&c instanceof a.AbstractVariable){var h=b,g=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else{if(!(b instanceof a.Expression||b instanceof a.AbstractVariable||"number"==typeof b)||!(c instanceof a.Expression||c instanceof a.AbstractVariable||"number"==typeof c))throw"Bad initializer to c.Equation";b=b instanceof a.Expression?b.clone():new a.Expression(b),c=c instanceof a.Expression?c.clone():new a.Expression(c),d.call(this,b,e,f),this.expression.addExpression(c,-1)}a.assert(this.strength instanceof a.Strength,"_strength not set")},toString:function(){return d.prototype.toString.call(this)+" = 0)"}})}(this.c||b.parent.exports||{}),function(a){a.EditInfo=a.inherit({initialize:function(a,b,c,d,e){this.constraint=a,this.editPlus=b,this.editMinus=c,this.prevEditConstant=d,this.index=e},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||b.parent.exports||{}),function(a){a.Tableau=a.inherit({initialize:function(){this.columns=new a.HashTable,this.rows=new a.HashTable,this._infeasibleRows=new a.HashSet,this._externalRows=new a.HashSet,this._externalParametricVars=new a.HashSet},noteRemovedVariable:function(b,c){a.trace&&console.log("c.Tableau::noteRemovedVariable: ",b,c);var d=this.columns.get(b);c&&d&&d["delete"](c)},noteAddedVariable:function(a,b){b&&this.insertColVar(a,b)},getInternalInfo:function(){var a="Tableau Information:\n";return a+="Rows: "+this.rows.size,a+=" (= "+(this.rows.size-1)+" constraints)",a+="\nColumns: "+this.columns.size,a+="\nInfeasible Rows: "+this._infeasibleRows.size,a+="\nExternal basic variables: "+this._externalRows.size,a+="\nExternal parametric variables: ",a+=this._externalParametricVars.size,a+="\n"},toString:function(){var a="Tableau:\n";return this.rows.each(function(b,c){a+=b,a+=" <==> ",a+=c,a+="\n"}),a+="\nColumns:\n",a+=this.columns,a+="\nInfeasible rows: ",a+=this._infeasibleRows,a+="External basic variables: ",a+=this._externalRows,a+="External parametric variables: ",a+=this._externalParametricVars},insertColVar:function(b,c){var d=this.columns.get(b);d||(d=new a.HashSet,this.columns.set(b,d)),d.add(c)},addRow:function(b,c){a.trace&&a.fnenterprint("addRow: "+b+", "+c),this.rows.set(b,c),c.terms.each(function(a,c){this.insertColVar(a,b),a.isExternal&&this._externalParametricVars.add(a)},this),b.isExternal&&this._externalRows.add(b),a.trace&&a.traceprint(this.toString())},removeColumn:function(b){a.trace&&a.fnenterprint("removeColumn:"+b);var c=this.columns.get(b);c?(this.columns["delete"](b),c.each(function(a){var c=this.rows.get(a);c.terms["delete"](b)},this)):a.trace&&console.log("Could not find var",b,"in columns"),b.isExternal&&(this._externalRows["delete"](b),this._externalParametricVars["delete"](b))},removeRow:function(b){a.trace&&a.fnenterprint("removeRow:"+b);var c=this.rows.get(b);return a.assert(null!=c),c.terms.each(function(c,d){var e=this.columns.get(c);null!=e&&(a.trace&&console.log("removing from varset:",b),e["delete"](b))},this),this._infeasibleRows["delete"](b),b.isExternal&&this._externalRows["delete"](b),this.rows["delete"](b),a.trace&&a.fnexitprint("returning "+c),c},substituteOut:function(b,c){a.trace&&a.fnenterprint("substituteOut:"+b+", "+c),a.trace&&a.traceprint(this.toString());var d=this.columns.get(b);d.each(function(a){var d=this.rows.get(a);d.substituteOut(b,c,a,this),a.isRestricted&&d.constant<0&&this._infeasibleRows.add(a)},this),b.isExternal&&(this._externalRows.add(b),this._externalParametricVars["delete"](b)),this.columns["delete"](b)},columnsHasKey:function(a){return!!this.columns.get(a)}})}(this.c||b.parent.exports||{}),function(a){var b=a.Tableau,c=b.prototype,d=1e-8,e=a.Strength.weak;a.SimplexSolver=a.inherit({"extends":a.Tableau,initialize:function(){a.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new a.HashTable,this._markerVars=new a.HashTable,this._objective=new a.ObjectiveVariable({name:"Z"}),this._editVarMap=new a.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new a.Expression),this._stkCedcns=[0],a.trace&&a.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(b,c){var d=new a.Inequality(b,a.GEQ,new a.Expression(c));return this.addConstraint(d)},addUpperBound:function(b,c){var d=new a.Inequality(b,a.LEQ,new a.Expression(c));return this.addConstraint(d)},addBounds:function(a,b,c){return this.addLowerBound(a,b),this.addUpperBound(a,c),this},add:function(){for(var a=0;a<arguments.length;a++)this.addConstraint(arguments[a]);return this},addConstraint:function(b){a.trace&&a.fnenterprint("addConstraint: "+b);var c=new Array(2),d=new Array(1),e=this.newExpression(b,c,d);if(d=d[0],this.tryAddingDirectly(e)||this.addWithArtificialVariable(e),this._fNeedsSolving=!0,b.isEditConstraint){var f=this._editVarMap.size,g=c[0],h=c[1];!g instanceof a.SlackVariable&&console.warn("cvEplus not a slack variable =",g),!h instanceof a.SlackVariable&&console.warn("cvEminus not a slack variable =",h),a.debug&&console.log("new c.EditInfo("+b+", "+g+", "+h+", "+d+", "+f+")");var i=new a.EditInfo(b,g,h,d,f);this._editVarMap.set(b.variable,i),this._editVarList[f]={v:b.variable,info:i}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(b){a.trace&&a.fnenterprint("addConstraintNoException: "+b);try{return this.addConstraint(b),!0}catch(c){return!1}},addEditVar:function(b,c){return a.trace&&a.fnenterprint("addEditVar: "+b+" @ "+c),this.addConstraint(new a.EditConstraint(b,c||a.Strength.strong))},beginEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(b){try{for(var c=this._editVarList.length,d=b;c>d;d++)this._editVarList[d]&&this.removeConstraint(this._editVarMap.get(this._editVarList[d].v).constraint);return this._editVarList.length=b,a.assert(this._editVarMap.size==b,"_editVarMap.size == n"),this}catch(e){throw new a.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(b){return a.trace&&console.log("addPointStays",b),b.forEach(function(a,b){this.addStay(a.x,e,Math.pow(2,b)),this.addStay(a.y,e,Math.pow(2,b))},this),this},addStay:function(b,c,d){var f=new a.StayConstraint(b,c||e,d||1);return this.addConstraint(f)},removeConstraint:function(a){return this.removeConstraintInternal(a),this},removeConstraintInternal:function(b){a.trace&&a.fnenterprint("removeConstraintInternal: "+b),a.trace&&a.traceprint(this.toString()),this._fNeedsSolving=!0,this._resetStayConstants();var c=this.rows.get(this._objective),d=this._errorVars.get(b);a.trace&&a.traceprint("eVars == "+d),null!=d&&d.each(function(e){var f=this.rows.get(e);null==f?c.addVariable(e,-b.weight*b.strength.symbolicWeight.value,this._objective,this):c.addExpression(f,-b.weight*b.strength.symbolicWeight.value,this._objective,this),a.trace&&a.traceprint("now eVars == "+d)},this);var e=this._markerVars.get(b);if(this._markerVars["delete"](b),null==e)throw new a.InternalError("Constraint not found in removeConstraintInternal");if(a.trace&&a.traceprint("Looking to remove var "+e),null==this.rows.get(e)){var f=this.columns.get(e);a.trace&&a.traceprint("Must pivot -- columns are "+f);var g=null,h=0;f.each(function(b){if(b.isRestricted){var c=this.rows.get(b),d=c.coefficientFor(e);if(a.trace&&a.traceprint("Marker "+e+"'s coefficient in "+c+" is "+d),0>d){var f=-c.constant/d;(null==g||h>f||a.approx(f,h)&&b.hashCode<g.hashCode)&&(h=f,g=b)}}},this),null==g&&(a.trace&&a.traceprint("exitVar is still null"),f.each(function(a){if(a.isRestricted){var b=this.rows.get(a),c=b.coefficientFor(e),d=b.constant/c;(null==g||h>d)&&(h=d,g=a)}},this)),null==g&&(0==f.size?this.removeColumn(e):f.escapingEach(function(a){return a!=this._objective?(g=a,{brk:!0}):void 0},this)),null!=g&&this.pivot(e,g)}if(null!=this.rows.get(e)){this.removeRow(e)}if(null!=d&&d.each(function(a){a!=e&&this.removeColumn(a)},this),b.isStayConstraint){if(null!=d)for(var i=0;i<this._stayPlusErrorVars.length;i++)d["delete"](this._stayPlusErrorVars[i]),d["delete"](this._stayMinusErrorVars[i])}else if(b.isEditConstraint){a.assert(null!=d,"eVars != null");var j=this._editVarMap.get(b.variable);this.removeColumn(j.editMinus),this._editVarMap["delete"](b.variable)}return null!=d&&this._errorVars["delete"](d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw a.trace&&a.fnenterprint("reset"),new a.InternalError("reset not implemented")},resolveArray:function(b){a.trace&&a.fnenterprint("resolveArray"+b);var c=b.length;this._editVarMap.each(function(a,d){var e=d.index;c>e&&this.suggestValue(a,b[e])},this),this.resolve()},resolvePair:function(a,b){this.suggestValue(this._editVarList[0].v,a),this.suggestValue(this._editVarList[1].v,b),this.resolve()},resolve:function(){a.trace&&a.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(b,c){a.trace&&console.log("suggestValue("+b+", "+c+")");var d=this._editVarMap.get(b);if(!d)throw new a.Error("suggestValue for variable "+b+", but var is not an edit variable");var e=c-d.prevEditConstant;return d.prevEditConstant=c,this.deltaEditConstant(e,d.editPlus,d.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(b,c){if(!this.columnsHasKey(b)&&null==this.rows.get(b))return b.value=c,this;if(!a.approx(c,b.value)){this.addEditVar(b),this.beginEdit();try{this.suggestValue(b,c)}catch(d){throw new a.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(b){if(!this.columnsHasKey(b)&&null==this.rows.get(b)){try{this.addStay(b)}catch(c){throw new a.InternalError("Error in addVar -- required failure is impossible")}a.trace&&a.traceprint("added initial stay on "+b)}return this},getInternalInfo:function(){var a=c.getInternalInfo.call(this);return a+="\nSolver info:\n",a+="Stay Error Variables: ",a+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,a+=" ("+this._stayPlusErrorVars.length+" +, ",a+=this._stayMinusErrorVars.length+" -)\n",a+="Edit Variables: "+this._editVarMap.size,a+="\n"},getDebugInfo:function(){return this.toString()+this.getInternalInfo()+"\n"},toString:function(){var a=c.getInternalInfo.call(this);return a+="\n_stayPlusErrorVars: ",a+="["+this._stayPlusErrorVars+"]",a+="\n_stayMinusErrorVars: ",a+="["+this._stayMinusErrorVars+"]",a+="\n",a+="_editVarMap:\n"+this._editVarMap,a+="\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(b){a.trace&&a.fnenterprint("addWithArtificialVariable: "+b);var c=new a.SlackVariable({value:++this._artificialCounter,prefix:"a"}),d=new a.ObjectiveVariable({name:"az"}),e=b.clone();a.trace&&a.traceprint("before addRows:\n"+this),this.addRow(d,e),this.addRow(c,b),a.trace&&a.traceprint("after addRows:\n"+this),this.optimize(d);var f=this.rows.get(d);if(a.trace&&a.traceprint("azTableauRow.constant == "+f.constant),!a.approx(f.constant,0))throw this.removeRow(d),this.removeColumn(c),new a.RequiredFailure;var g=this.rows.get(c);if(null!=g){if(g.isConstant)return this.removeRow(c),void this.removeRow(d);var h=g.anyPivotableVariable();this.pivot(h,c)}a.assert(null==this.rows.get(c),"rowExpression(av) == null"),this.removeColumn(c),this.removeRow(d)},tryAddingDirectly:function(b){a.trace&&a.fnenterprint("tryAddingDirectly: "+b);var c=this.chooseSubject(b);return null==c?(a.trace&&a.fnexitprint("returning false"),!1):(b.newSubject(c),this.columnsHasKey(c)&&this.substituteOut(c,b),this.addRow(c,b),a.trace&&a.fnexitprint("returning true"),!0)},chooseSubject:function(b){a.trace&&a.fnenterprint("chooseSubject: "+b);var c=null,d=!1,e=!1,f=b.terms,g=f.escapingEach(function(a,b){if(d){if(!a.isRestricted&&!this.columnsHasKey(a))return{retval:a}}else if(a.isRestricted){if(!e&&!a.isDummy&&0>b){var f=this.columns.get(a);(null==f||1==f.size&&this.columnsHasKey(this._objective))&&(c=a,e=!0)}}else c=a,d=!0},this);if(g&&void 0!==g.retval)return g.retval;if(null!=c)return c;var h=0,g=f.escapingEach(function(a,b){return a.isDummy?void(this.columnsHasKey(a)||(c=a,h=b)):{retval:null}},this);if(g&&void 0!==g.retval)return g.retval;if(!a.approx(b.constant,0))throw new a.RequiredFailure;return h>0&&b.multiplyMe(-1),c},deltaEditConstant:function(b,c,d){a.trace&&a.fnenterprint("deltaEditConstant :"+b+", "+c+", "+d);var e=this.rows.get(c);if(null!=e)return e.constant+=b,void(e.constant<0&&this._infeasibleRows.add(c));var f=this.rows.get(d);if(null!=f)return f.constant+=-b,void(f.constant<0&&this._infeasibleRows.add(d));var g=this.columns.get(d);g||console.log("columnVars is null -- tableau is:\n"+this),g.each(function(a){var c=this.rows.get(a),e=c.coefficientFor(d);c.constant+=e*b,a.isRestricted&&c.constant<0&&this._infeasibleRows.add(a)},this);
},dualOptimize:function(){a.trace&&a.fnenterprint("dualOptimize:");for(var b=this.rows.get(this._objective);this._infeasibleRows.size;){var c=this._infeasibleRows.values()[0];this._infeasibleRows["delete"](c);var d=null,e=this.rows.get(c);if(e&&e.constant<0){var f,g=Number.MAX_VALUE,h=e.terms;if(h.each(function(c,e){if(e>0&&c.isPivotable){var h=b.coefficientFor(c);f=h/e,(g>f||a.approx(f,g)&&c.hashCode<d.hashCode)&&(d=c,g=f)}}),g==Number.MAX_VALUE)throw new a.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(d,c)}}},newExpression:function(b,c,d){a.trace&&(a.fnenterprint("newExpression: "+b),a.traceprint("cn.isInequality == "+b.isInequality),a.traceprint("cn.required == "+b.required));var e=b.expression,f=new a.Expression(e.constant),g=new a.SlackVariable,h=new a.DummyVariable,i=new a.SlackVariable,j=new a.SlackVariable,k=e.terms;if(k.each(function(a,b){var c=this.rows.get(a);c?f.addExpression(c,b):f.addVariable(a,b)},this),b.isInequality){if(a.trace&&a.traceprint("Inequality, adding slack"),++this._slackCounter,g=new a.SlackVariable({value:this._slackCounter,prefix:"s"}),f.setVariable(g,-1),this._markerVars.set(b,g),!b.required){++this._slackCounter,i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(i,1);var l=this.rows.get(this._objective);l.setVariable(i,b.strength.symbolicWeight.value*b.weight),this.insertErrorVar(b,i),this.noteAddedVariable(i,this._objective)}}else if(b.required)a.trace&&a.traceprint("Equality, required"),++this._dummyCounter,h=new a.DummyVariable({value:this._dummyCounter,prefix:"d"}),f.setVariable(h,1),this._markerVars.set(b,h),a.trace&&a.traceprint("Adding dummyVar == d"+this._dummyCounter);else{a.trace&&a.traceprint("Equality, not required"),++this._slackCounter,j=new a.SlackVariable({value:this._slackCounter,prefix:"ep"}),i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(j,-1),f.setVariable(i,1),this._markerVars.set(b,j);var l=this.rows.get(this._objective);a.trace&&console.log(l);var m=b.strength.symbolicWeight.value*b.weight;0==m&&(a.trace&&a.traceprint("cn == "+b),a.trace&&a.traceprint("adding "+j+" and "+i+" with swCoeff == "+m)),l.setVariable(j,m),this.noteAddedVariable(j,this._objective),l.setVariable(i,m),this.noteAddedVariable(i,this._objective),this.insertErrorVar(b,i),this.insertErrorVar(b,j),b.isStayConstraint?(this._stayPlusErrorVars.push(j),this._stayMinusErrorVars.push(i)):b.isEditConstraint&&(c[0]=j,c[1]=i,d[0]=e.constant)}return f.constant<0&&f.multiplyMe(-1),a.trace&&a.fnexitprint("returning "+f),f},optimize:function(b){a.trace&&a.fnenterprint("optimize: "+b),a.trace&&a.traceprint(this.toString()),this._optimizeCount++;var c=this.rows.get(b);a.assert(null!=c,"zRow != null");for(var e,f,g=null,h=null;;){if(e=0,f=c.terms,f.escapingEach(function(a,b){return a.isPivotable&&e>b?(e=b,g=a,{brk:1}):void 0},this),e>=-d)return;a.trace&&console.log("entryVar:",g,"objectiveCoeff:",e);var i=Number.MAX_VALUE,j=this.columns.get(g),k=0;if(j.each(function(b){if(a.trace&&a.traceprint("Checking "+b),b.isPivotable){var c=this.rows.get(b),d=c.coefficientFor(g);a.trace&&a.traceprint("pivotable, coeff = "+d),0>d&&(k=-c.constant/d,(i>k||a.approx(k,i)&&b.hashCode<h.hashCode)&&(i=k,h=b))}},this),i==Number.MAX_VALUE)throw new a.InternalError("Objective function is unbounded in optimize");this.pivot(g,h),a.trace&&a.traceprint(this.toString())}},pivot:function(b,c){a.trace&&console.log("pivot: ",b,c);var d=!1;d&&console.time(" SimplexSolver::pivot"),null==b&&console.warn("pivot: entryVar == null"),null==c&&console.warn("pivot: exitVar == null"),d&&console.time("  removeRow");var e=this.removeRow(c);d&&console.timeEnd("  removeRow"),d&&console.time("  changeSubject"),e.changeSubject(c,b),d&&console.timeEnd("  changeSubject"),d&&console.time("  substituteOut"),this.substituteOut(b,e),d&&console.timeEnd("  substituteOut"),d&&console.time("  addRow"),this.addRow(b,e),d&&console.timeEnd("  addRow"),d&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){a.trace&&console.log("_resetStayConstants");for(var b=0;b<this._stayPlusErrorVars.length;b++){var c=this.rows.get(this._stayPlusErrorVars[b]);null==c&&(c=this.rows.get(this._stayMinusErrorVars[b])),null!=c&&(c.constant=0)}},_setExternalVariables:function(){a.trace&&a.fnenterprint("_setExternalVariables:"),a.trace&&a.traceprint(this.toString()),this._externalParametricVars.each(function(b){null!=this.rows.get(b)?a.trace&&console.log("Error: variable"+b+" in _externalParametricVars is basic"):b.value=0},this),this._externalRows.each(function(a){var b=this.rows.get(a);a.value!=b.constant&&(a.value=b.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(b,c){a.trace&&a.fnenterprint("insertErrorVar:"+b+", "+c);var d=this._errorVars.get(c);d||(d=new a.HashSet,this._errorVars.set(b,d)),d.add(c)}})}(this.c||b.parent.exports||{}),function(a){a.Timer=a.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||b.parent.exports||{}),__cassowary_parser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){O>M||(M>O&&(O=M,P=[]),P.push(a))}function e(){var a,b,c,d,e;if(d=M,e=M,a=s(),null!==a){if(c=f(),null!==c)for(b=[];null!==c;)b.push(c),c=f();else b=null;null!==b?(c=s(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)}else a=null,M=e;return null!==a&&(a=function(a,b){return b}(d,a[1])),null===a&&(M=d),a}function f(){var a,b,c,d;return c=M,d=M,a=I(),null!==a?(b=l(),null!==b?a=[a,b]:(a=null,M=d)):(a=null,M=d),null!==a&&(a=function(a,b){return b}(c,a[0])),null===a&&(M=c),a}function g(){var a;return b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),a}function h(){var a;return/^[a-zA-Z]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[a-zA-Z]")),null===a&&(36===b.charCodeAt(M)?(a="$",M++):(a=null,0===N&&d('"$"')),null===a&&(95===b.charCodeAt(M)?(a="_",M++):(a=null,0===N&&d('"_"')))),a}function i(){var a;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),N--,0===N&&null===a&&d("whitespace"),a}function j(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\n\\r\\u2028\\u2029]")),a}function k(){var a;return N++,10===b.charCodeAt(M)?(a="\n",M++):(a=null,0===N&&d('"\\n"')),null===a&&("\r\n"===b.substr(M,2)?(a="\r\n",M+=2):(a=null,0===N&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(M)?(a="\r",M++):(a=null,0===N&&d('"\\r"')),null===a&&(8232===b.charCodeAt(M)?(a="\u2028",M++):(a=null,0===N&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(M)?(a="\u2029",M++):(a=null,0===N&&d('"\\u2029"')))))),N--,0===N&&null===a&&d("end of line"),a}function l(){var a,c,e;return e=M,a=s(),null!==a?(59===b.charCodeAt(M)?(c=";",M++):(c=null,0===N&&d('";"')),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=r(),null!==a?(c=k(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=s(),null!==a?(c=m(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e))),a}function m(){var a,c;return c=M,N++,b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),N--,null===a?a="":(a=null,M=c),a}function n(){var a;return N++,a=o(),null===a&&(a=q()),N--,0===N&&null===a&&d("comment"),a}function o(){var a,c,e,f,h,i,j;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function p(){var a,c,e,f,h,i,k;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function q(){var a,c,e,f,h,i,k;if(h=M,"//"===b.substr(M,2)?(a="//",M+=2):(a=null,0===N&&d('"//"')),null!==a){for(c=[],i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?a=[a,c]:(a=null,M=h)}else a=null,M=h;return a}function r(){var a,b;for(a=[],b=i(),null===b&&(b=p(),null===b&&(b=q()));null!==b;)a.push(b),b=i(),null===b&&(b=p(),null===b&&(b=q()));return a}function s(){var a,b;for(a=[],b=i(),null===b&&(b=k(),null===b&&(b=n()));null!==b;)a.push(b),b=i(),null===b&&(b=k(),null===b&&(b=n()));return a}function t(){var a,b;return b=M,a=v(),null===a&&(a=u()),null!==a&&(a=function(a,b){return{type:"NumericLiteral",value:b}}(b,a)),null===a&&(M=b),a}function u(){var a,c,e;if(e=M,/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""))}(e,a)),null===a&&(M=e),a}function v(){var a,c,e,f,g;return f=M,g=M,a=u(),null!==a?(46===b.charCodeAt(M)?(c=".",M++):(c=null,0===N&&d('"."')),null!==c?(e=u(),null!==e?a=[a,c,e]:(a=null,M=g)):(a=null,M=g)):(a=null,M=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(M=f),a}function w(){var a,c,e,f;if(f=M,/^[\-+]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,M=f)}else a=null,M=f;return a}function x(){var a,b;return N++,b=M,a=y(),null!==a&&(a=function(a,b){return b}(b,a)),null===a&&(M=b),N--,0===N&&null===a&&d("identifier"),a}function y(){var a,b,c,e,f;if(N++,e=M,f=M,a=h(),null!==a){for(b=[],c=h();null!==c;)b.push(c),c=h();null!==b?a=[a,b]:(a=null,M=f)}else a=null,M=f;return null!==a&&(a=function(a,b,c){return b+c.join("")}(e,a[0],a[1])),null===a&&(M=e),N--,0===N&&null===a&&d("identifier"),a}function z(){var a,c,e,f,g,h,i;return h=M,a=x(),null!==a&&(a=function(a,b){return{type:"Variable",name:b}}(h,a)),null===a&&(M=h),null===a&&(a=t(),null===a&&(h=M,i=M,40===b.charCodeAt(M)?(a="(",M++):(a=null,0===N&&d('"("')),null!==a?(c=s(),null!==c?(e=I(),null!==e?(f=s(),null!==f?(41===b.charCodeAt(M)?(g=")",M++):(g=null,0===N&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i),null!==a&&(a=function(a,b){return b}(h,a[2])),null===a&&(M=h))),a}function A(){var a,b,c,d,e;return a=z(),null===a&&(d=M,e=M,a=B(),null!==a?(b=s(),null!==b?(c=A(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)):(a=null,M=e),null!==a&&(a=function(a,b,c){return{type:"UnaryExpression",operator:b,expression:c}}(d,a[0],a[2])),null===a&&(M=d)),a}function B(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"')),null===a&&(33===b.charCodeAt(M)?(a="!",M++):(a=null,0===N&&d('"!"')))),a}function C(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=A(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"MultiplicativeExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function D(){var a;return 42===b.charCodeAt(M)?(a="*",M++):(a=null,0===N&&d('"*"')),null===a&&(47===b.charCodeAt(M)?(a="/",M++):(a=null,0===N&&d('"/"'))),a}function E(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=C(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"AdditiveExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function F(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"'))),a}function G(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=E(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Inequality",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function H(){var a;return"<="===b.substr(M,2)?(a="<=",M+=2):(a=null,0===N&&d('"<="')),null===a&&(">="===b.substr(M,2)?(a=">=",M+=2):(a=null,0===N&&d('">="')),null===a&&(60===b.charCodeAt(M)?(a="<",M++):(a=null,0===N&&d('"<"')),null===a&&(62===b.charCodeAt(M)?(a=">",M++):(a=null,0===N&&d('">"'))))),a}function I(){var a,c,e,f,g,h,i,j,k;if(i=M,j=M,a=G(),null!==a){for(c=[],k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==e;)c.push(e),k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==c?a=[a,c]:(a=null,M=j)}else a=null,M=j;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Equality",operator:c[e][1],left:d,right:c[e][3]};return d}(i,a[0],a[1])),null===a&&(M=i),a}function J(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function K(){for(var a=1,c=1,d=!1,e=0;e<Math.max(M,O);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var L={start:e,Statement:f,SourceCharacter:g,IdentifierStart:h,WhiteSpace:i,LineTerminator:j,LineTerminatorSequence:k,EOS:l,EOF:m,Comment:n,MultiLineComment:o,MultiLineCommentNoLineTerminator:p,SingleLineComment:q,_:r,__:s,Literal:t,Integer:u,Real:v,SignedInteger:w,Identifier:x,IdentifierName:y,PrimaryExpression:z,UnaryExpression:A,UnaryOperator:B,MultiplicativeExpression:C,MultiplicativeOperator:D,AdditiveExpression:E,AdditiveOperator:F,InequalityExpression:G,InequalityOperator:H,LinearExpression:I};if(void 0!==c){if(void 0===L[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var M=0,N=0,O=0,P=[],Q=L[c]();if(null===Q||M!==b.length){var R=Math.max(M,O),S=R<b.length?b.charAt(R):null,T=K();throw new this.SyntaxError(J(P),S,R,T.line,T.column)}return Q},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}).call("undefined"!=typeof b?b.compiled=!0&&b:void 0)},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={CONST:"const",NOTANATTRIBUTE:"const",VARIABLE:"var",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",WIDTH:"width",HEIGHT:"height",CENTERX:"centerX",CENTERY:"centerY"};c["default"]=d,b.exports=c["default"]},{}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./Attribute.es6"),f=d(e),g=a("./Relation.es6"),h=d(g),i=a("./Priority.es6"),j=d(i),k=a("./VisualFormat.es6"),l=d(k),m=a("./View.es6"),n=d(m),o=a("./SubView.es6"),p=d(o),q={Attribute:f["default"],Relation:h["default"],Priority:j["default"],VisualFormat:l["default"],View:n["default"],SubView:p["default"]};c["default"]=q,b.exports=c["default"]},{"./Attribute.es6":2,"./Priority.es6":4,"./Relation.es6":5,"./SubView.es6":6,"./View.es6":7,"./VisualFormat.es6":8}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={REQUIRED:1e3,DEFAULTHIGH:750,DEFAULTLOW:250};c["default"]=d,b.exports=c["default"]},{}],5:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={LEQ:"leq",EQU:"equ",GEQ:"geq"};c["default"]=d,b.exports=c["default"]},{}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("../cassowary.js/bin/c"),h=d(g),i=a("./Attribute.es6"),j=d(i),k=function(){function a(b){e(this,a),this._name=b.name,this._solver=b.solver,this._attr={},b.name||(this._attr[j["default"].LEFT]=new h["default"].Variable({value:0,name:"|.left"}),this._solver.addConstraint(new h["default"].StayConstraint(this._attr[j["default"].LEFT],h["default"].Strength.required)),this._attr[j["default"].TOP]=new h["default"].Variable({value:0,name:"|.top"}),this._solver.addConstraint(new h["default"].StayConstraint(this._attr[j["default"].TOP],h["default"].Strength.required)),this._attr[j["default"].WIDTH]=new h["default"].Variable({value:0,name:"|.width"}),this._solver.addEditVar(this._attr[j["default"].WIDTH],new h["default"].Strength("required",999,1e3,1e3)),this._attr[j["default"].HEIGHT]=new h["default"].Variable({value:0,name:"|.height"}),this._solver.addEditVar(this._attr[j["default"].HEIGHT],new h["default"].Strength("required",999,1e3,1e3)))}return f(a,[{key:"toJSON",value:function(){return{name:this.name,left:this.left,top:this.top,width:this.width,height:this.height}}},{key:"toString",value:function(){JSON.stringify(this.toJSON(),void 0,2)}},{key:"name",get:function(){return this._name}},{key:"left",get:function(){return this._getAttr(j["default"].LEFT).value}},{key:"right",get:function(){return this._getAttr(j["default"].RIGHT).value}},{key:"width",get:function(){return this._getAttr(j["default"].WIDTH).value}},{key:"height",get:function(){return this._getAttr(j["default"].HEIGHT).value}},{key:"top",get:function(){return this._getAttr(j["default"].TOP).value}},{key:"bottom",get:function(){return this._getAttr(j["default"].BOTTOM).value}},{key:"centerX",get:function(){return this._getAttr(j["default"].CENTERX).value}},{key:"centerY",get:function(){return this._getAttr(j["default"].CENTERY).value}},{key:"getValue",value:function(a){return this._attr[a]?this._attr[a].value:void 0}},{key:"_getAttr",value:function(a){if(this._attr[a])return this._attr[a];switch(a){case j["default"].LEFT:case j["default"].TOP:case j["default"].WIDTH:case j["default"].HEIGHT:this._attr[a]=new h["default"].Variable({value:0,name:(this._name||"|")+"."+a});break;case j["default"].RIGHT:this._getAttr(j["default"].LEFT),this._getAttr(j["default"].WIDTH),this._attr[j["default"].RIGHT]=new h["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new h["default"].Equation(this._attr[j["default"].RIGHT],h["default"].plus(this._attr[j["default"].LEFT],this._attr[j["default"].WIDTH])));break;case j["default"].BOTTOM:this._getAttr(j["default"].TOP),this._getAttr(j["default"].HEIGHT),this._attr[j["default"].BOTTOM]=new h["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new h["default"].Equation(this._attr[j["default"].BOTTOM],h["default"].plus(this._attr[j["default"].TOP],this._attr[j["default"].HEIGHT])));break;case j["default"].CENTERX:this._getAttr(j["default"].LEFT),this._getAttr(j["default"].WIDTH),this._attr[j["default"].CENTERX]=new h["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new h["default"].Equation(this._attr[j["default"].CENTERX],h["default"].plus(this._attr[j["default"].LEFT],h["default"].divide(this._attr[j["default"].WIDTH],2))));break;case j["default"].CENTERY:this._getAttr(j["default"].TOP),this._getAttr(j["default"].HEIGHT),this._attr[j["default"].CENTERY]=new h["default"].Variable({name:(this._name||"|")+"."+a}),this._solver.addConstraint(new h["default"].Equation(this._attr[j["default"].CENTERY],h["default"].plus(this._attr[j["default"].TOP],h["default"].divide(this._attr[j["default"].HEIGHT],2))))}return this._attr[a]}}]),a}();c["default"]=k,b.exports=c["default"]},{"../cassowary.js/bin/c":1,"./Attribute.es6":2}],7:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){var c=new l["default"].Variable({value:b});return this._solver.addConstraint(new l["default"].StayConstraint(c,l["default"].Strength.required,0)),c}function g(a){return a?(this._subViews[a]=this._subViews[a]||new r["default"]({name:a,solver:this._solver}),this._subViews[a]):this._parentSubView}function h(a){var b=4;if(a.view1||"left"!==a.attr1)if(a.view1||"top"!==a.attr1)if(a.view2||"right"!==a.attr2)if(a.view2||"bottom"!==a.attr2)switch(a.attr1){case"left":case"right":case"centerX":case"leading":case"trailing":b=4;break;default:b=5}else b=2;else b=1;else b=0;else b=3;return this._spacingVars=this._spacingVars||new Array(6),this._spacingVars[b]||(this._spacingVars[b]=new l["default"].Variable({value:this._spacing[b],name:"spacing["+b+"]"}),this._solver.addEditVar(this._spacingVars[b])),this._spacingVars[b]}function i(a){var b=void 0,c=void 0!==a.multiplier?a.multiplier:1,d=void 0!==a.constant?a.constant:0;"default"===d&&(d=h.call(this,a));var e=g.call(this,a.view1)._getAttr(a.attr1),i=void 0;a.attr2===n["default"].CONST?i=f.call(this,void 0,a.constant):(i=g.call(this,a.view2)._getAttr(a.attr2),1!==c&&d?i=l["default"].times(l["default"].minus(i,d),c):d?i=l["default"].minus(i,d):1!==c&&(i=l["default"].times(i,c)));var j=void 0!==a.priority&&a.priority<1e3?new l["default"].Strength("priority",0,a.priority,1e3):s;switch(a.relation){case p["default"].EQU:b=new l["default"].Equation(e,i,j);break;case p["default"].GEQ:b=new l["default"].Inequality(e,l["default"].GEQ,i,j);break;case p["default"].LEQ:b=new l["default"].Inequality(e,l["default"].LEQ,i,j);break;default:throw"Invalid relation specified: "+a.relation}this._solver.addConstraint(b)}Object.defineProperty(c,"__esModule",{value:!0});var j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("../cassowary.js/bin/c"),l=d(k),m=a("./Attribute.es6"),n=d(m),o=a("./Relation.es6"),p=d(o),q=a("./SubView.es6"),r=d(q),s=new l["default"].Strength("defaultPriority",0,1e3,1e3),t=function(){function a(b){e(this,a),this._solver=new l["default"].SimplexSolver,this._subViews={},this._spacing={},this._parentSubView=new r["default"]({solver:this._solver}),this.setSpacing(b&&void 0!==b.spacing?b.spacing:8),b&&((void 0!==b.width||void 0!==b.height)&&this.setSize(b.width,b.height),b.constraints&&this.addConstraints(b.constraints))}return j(a,[{key:"setSize",value:function(a,b){return this._width===a&&this._height===b?void 0:(void 0!==a&&this._width!==a&&(this._width=a,this._solver.suggestValue(this._parentSubView._getAttr(n["default"].WIDTH),this._width)),void 0!==b&&this._height!==b&&(this._height=b,this._solver.suggestValue(this._parentSubView._getAttr(n["default"].HEIGHT),this._height)),this._solver.resolve(),this)}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"setSpacing",value:function(a){switch(Array.isArray(a)?a.length:-1){case-1:a=[a,a,a,a,a,a];break;case 1:a=[a[0],a[0],a[0],a[0],a[0],a[0]];break;case 2:a=[a[1],a[0],a[1],a[0],a[0],a[1]];break;case 6:break;default:throw"Invalid spacing syntax"}if(this._spacing=a,this._spacingVars){for(var b=0;b<this._spacingVars.length;b++)this._spacingVars[b]&&this._solver.suggestValue(this._spacingVars[b],this._spacing[b]);this._solver.resolve()}return this}},{key:"addConstraint",value:function(a){return i.call(this,a),this}},{key:"addConstraints",value:function(a){for(var b=0;b<a.length;b++)i.call(this,a[b]);return this}},{key:"subViews",get:function(){return this._subViews}}]),a}();c["default"]=t,b.exports=c["default"]},{"../cassowary.js/bin/c":1,"./Attribute.es6":2,"./Relation.es6":5,"./SubView.es6":6}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./parser/parser"),h=d(g),i=a("./parser/parserExt"),j=d(i),k=a("./Attribute.es6"),l=d(k),m=function(){function a(){e(this,a)}return f(a,null,[{key:"parseLine",value:function(a,b){if(0===a.length)return[];var c=[],d=b&&b.extended?j["default"].parse(a):h["default"].parse(a);if(b&&"raw"===b.outFormat)return[d];for(var e="horizontal"===d.orientation,f=void 0,g=void 0,i=void 0,k=void 0,m=void 0,n=void 0,o=0;o<d.cascade.length;o++)if(n=d.cascade[o],!Array.isArray(n)&&n.hasOwnProperty("view")){if(f=g,g=n.view,void 0!==f&&void 0!==g&&i&&(k=e?l["default"].RIGHT:l["default"].BOTTOM,m=e?l["default"].LEFT:l["default"].TOP,f||(k=e?l["default"].LEFT:l["default"].TOP),g||(m=e?l["default"].RIGHT:l["default"].BOTTOM),c.push({view1:f,attr1:k,relation:i.relation,view2:g,attr2:m,multiplier:i.multiplier,constant:i.constant,priority:i.priority})),i=void 0,n.constraints)for(var p=0;p<n.constraints.length;p++)k=e?l["default"].WIDTH:l["default"].HEIGHT,m=n.constraints[p].view||n.constraints[p].multiplier?k:n.constraints[p].variable?l["default"].VARIABLE:l["default"].CONST,c.push({view1:n.view,attr1:k,relation:n.constraints[p].relation,view2:n.constraints[p].view,attr2:m,multiplier:n.constraints[p].multiplier,constant:n.constraints[p].constant,priority:n.constraints[p].priority})}else i=n[0];return c}},{key:"parse",value:function(a,b){var c=b&&b.lineSeperator?b.lineSeperator:"\n";if(!Array.isArray(a)&&a.indexOf(c)<0)try{return this.parseLine(a,b)}catch(d){throw d.source=a,d}a=Array.isArray(a)?a:[a];var e=void 0,f=[],g=0,h=void 0;try{for(var i=0;i<a.length;i++){e=a[i].split(c);for(var j=0;j<e.length;j++)h=e[j],g++,f=f.concat(this.parseLine(h,b))}}catch(d){throw d.source=h,d.line=g,d}return f}}]),a}();c["default"]=m,b.exports=c["default"]},{"./Attribute.es6":2,"./parser/parser":9,"./parser/parserExt":10}],9:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return Aa}function d(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Ba!==b&&(Ba>b&&(Ba=0,Ca={line:1,column:1,seenCR:!1}),c(Ca,Ba,b),Ba=b),Ca}function e(a){Da>za||(za>Da&&(Da=za,Ea=[]),Ea.push(a))}function f(c,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==c?c:h(e,j),e,j,f,i.line,i.column)}function g(){var b,c,d,f,g,l,m,n;if(b=za,c=za,d=h(),d!==y?(58===a.charCodeAt(za)?(f=D,za++):(f=y,0===Fa&&e(E)),f!==y?(d=[d,f],c=d):(za=c,c=B)):(za=c,c=B),c===y&&(c=C),c!==y)if(d=za,f=i(),f!==y?(g=k(),g!==y?(f=[f,g],d=f):(za=d,d=B)):(za=d,d=B),d===y&&(d=C),d!==y)if(f=j(),f!==y){for(g=[],l=za,m=k(),m!==y?(n=j(),n!==y?(m=[m,n],l=m):(za=l,l=B)):(za=l,l=B);l!==y;)g.push(l),l=za,m=k(),m!==y?(n=j(),n!==y?(m=[m,n],l=m):(za=l,l=B)):(za=l,l=B);g!==y?(l=za,m=k(),m!==y?(n=i(),n!==y?(m=[m,n],l=m):(za=l,l=B)):(za=l,l=B),l===y&&(l=C),l!==y?(Aa=b,c=F(c,d,f,g,l),b=c):(za=b,b=B)):(za=b,b=B)}else za=b,b=B;else za=b,b=B;else za=b,b=B;return b}function h(){var b,c;return b=za,72===a.charCodeAt(za)?(c=G,za++):(c=y,0===Fa&&e(H)),c===y&&(86===a.charCodeAt(za)?(c=I,za++):(c=y,0===Fa&&e(J))),c!==y&&(Aa=b,c=K(c)),b=c}function i(){var b,c;return b=za,124===a.charCodeAt(za)?(c=L,za++):(c=y,0===Fa&&e(M)),c!==y&&(Aa=b,c=N()),b=c}function j(){var b,c,d,f,g;return b=za,91===a.charCodeAt(za)?(c=O,za++):(c=y,0===Fa&&e(P)),c!==y?(d=t(),d!==y?(f=n(),f===y&&(f=C),f!==y?(93===a.charCodeAt(za)?(g=Q,za++):(g=y,0===Fa&&e(R)),g!==y?(Aa=b,c=S(d,f),b=c):(za=b,b=B)):(za=b,b=B)):(za=b,b=B)):(za=b,b=B),b}function k(){var b,c,d,f;return b=za,45===a.charCodeAt(za)?(c=T,za++):(c=y,0===Fa&&e(U)),c!==y?(d=l(),d!==y?(45===a.charCodeAt(za)?(f=T,za++):(f=y,0===Fa&&e(U)),f!==y?(Aa=b,c=V(d),b=c):(za=b,b=B)):(za=b,b=B)):(za=b,b=B),b===y&&(b=za,45===a.charCodeAt(za)?(c=T,za++):(c=y,0===Fa&&e(U)),c!==y&&(Aa=b,c=W()),b=c,b===y&&(b=za,c=X,c!==y&&(Aa=b,c=Y()),b=c)),b}function l(){var a;return a=m(),a===y&&(a=n()),a}function m(){var a,b;return a=za,b=u(),b!==y&&(Aa=a,b=Z(b)),a=b}function n(){var b,c,d,f,g,h,i;
if(b=za,40===a.charCodeAt(za)?(c=$,za++):(c=y,0===Fa&&e(_)),c!==y)if(d=o(),d!==y){for(f=[],g=za,44===a.charCodeAt(za)?(h=aa,za++):(h=y,0===Fa&&e(ba)),h!==y?(i=o(),i!==y?(h=[h,i],g=h):(za=g,g=B)):(za=g,g=B);g!==y;)f.push(g),g=za,44===a.charCodeAt(za)?(h=aa,za++):(h=y,0===Fa&&e(ba)),h!==y?(i=o(),i!==y?(h=[h,i],g=h):(za=g,g=B)):(za=g,g=B);f!==y?(41===a.charCodeAt(za)?(g=ca,za++):(g=y,0===Fa&&e(da)),g!==y?(Aa=b,c=ea(d,f),b=c):(za=b,b=B)):(za=b,b=B)}else za=b,b=B;else za=b,b=B;return b}function o(){var b,c,d,f,g,h;return b=za,c=p(),c===y&&(c=C),c!==y?(d=q(),d!==y?(f=za,64===a.charCodeAt(za)?(g=fa,za++):(g=y,0===Fa&&e(ga)),g!==y?(h=r(),h!==y?(g=[g,h],f=g):(za=f,f=B)):(za=f,f=B),f===y&&(f=C),f!==y?(Aa=b,c=ha(c,d,f),b=c):(za=b,b=B)):(za=b,b=B)):(za=b,b=B),b}function p(){var b,c;return b=za,a.substr(za,2)===ia?(c=ia,za+=2):(c=y,0===Fa&&e(ja)),c!==y&&(Aa=b,c=ka()),b=c,b===y&&(b=za,a.substr(za,2)===la?(c=la,za+=2):(c=y,0===Fa&&e(ma)),c!==y&&(Aa=b,c=na()),b=c,b===y&&(b=za,a.substr(za,2)===oa?(c=oa,za+=2):(c=y,0===Fa&&e(pa)),c!==y&&(Aa=b,c=qa()),b=c)),b}function q(){var a;return a=s(),a===y&&(a=t()),a}function r(){var a,b;return a=za,b=u(),b!==y&&(Aa=a,b=ra(b)),a=b}function s(){var a,b;return a=za,b=u(),b!==y&&(Aa=a,b=sa(b)),a=b}function t(){var b,c,d,f;if(b=za,c=za,d=[],ta.test(a.charAt(za))?(f=a.charAt(za),za++):(f=y,0===Fa&&e(ua)),f!==y)for(;f!==y;)d.push(f),ta.test(a.charAt(za))?(f=a.charAt(za),za++):(f=y,0===Fa&&e(ua));else d=B;return d!==y&&(d=a.substring(c,za)),c=d,c!==y&&(Aa=b,c=va(c)),b=c}function u(){var b,c,d;if(b=za,c=[],wa.test(a.charAt(za))?(d=a.charAt(za),za++):(d=y,0===Fa&&e(xa)),d!==y)for(;d!==y;)c.push(d),wa.test(a.charAt(za))?(d=a.charAt(za),za++):(d=y,0===Fa&&e(xa));else c=B;return c!==y&&(Aa=b,c=ya(c)),b=c}function v(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}var w,x=arguments.length>1?arguments[1]:{},y={},z={visualFormatString:g},A=g,B=y,C=null,D=":",E={type:"literal",value:":",description:'":"'},F=function(a,b,c,d,e){return{orientation:a?a[0]:"horizontal",cascade:(b||[]).concat([c],[].concat.apply([],d),e||[])}},G="H",H={type:"literal",value:"H",description:'"H"'},I="V",J={type:"literal",value:"V",description:'"V"'},K=function(a){return"H"==a?"horizontal":"vertical"},L="|",M={type:"literal",value:"|",description:'"|"'},N=function(){return{view:null}},O="[",P={type:"literal",value:"[",description:'"["'},Q="]",R={type:"literal",value:"]",description:'"]"'},S=function(a,b){return v(a,b?{constraints:b}:{})},T="-",U={type:"literal",value:"-",description:'"-"'},V=function(a){return a},W=function(){return[{relation:"equ",constant:"default",$parserOffset:c()}]},X="",Y=function(){return[{relation:"equ",constant:0,$parserOffset:c()}]},Z=function(a){return[{relation:"equ",constant:a,$parserOffset:c()}]},$="(",_={type:"literal",value:"(",description:'"("'},aa=",",ba={type:"literal",value:",",description:'","'},ca=")",da={type:"literal",value:")",description:'")"'},ea=function(a,b){return[a].concat(b.map(function(a){return a[1]}))},fa="@",ga={type:"literal",value:"@",description:'"@"'},ha=function(a,b,c){return v({relation:"equ"},a||{},b,c?c[1]:{})},ia="==",ja={type:"literal",value:"==",description:'"=="'},ka=function(){return{relation:"equ",$parserOffset:c()}},la="<=",ma={type:"literal",value:"<=",description:'"<="'},na=function(){return{relation:"leq",$parserOffset:c()}},oa=">=",pa={type:"literal",value:">=",description:'">="'},qa=function(){return{relation:"geq",$parserOffset:c()}},ra=function(a){return{priority:a}},sa=function(a){return{constant:a}},ta=/^[a-zA-Z0-9\-_]/,ua={type:"class",value:"[a-zA-Z0-9\\-_]",description:"[a-zA-Z0-9\\-_]"},va=function(a){return{view:a}},wa=/^[0-9]/,xa={type:"class",value:"[0-9]",description:"[0-9]"},ya=function(a){return parseInt(a.join(""),10)},za=0,Aa=0,Ba=0,Ca={line:1,column:1,seenCR:!1},Da=0,Ea=[],Fa=0;if("startRule"in x){if(!(x.startRule in z))throw new Error("Can't start parsing from rule \""+x.startRule+'".');A=z[x.startRule]}if(w=A(),w!==y&&za===a.length)return w;throw w!==y&&za<a.length&&e({type:"end",description:"end of input"}),f(null,Ea,Da)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}],10:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return Na}function d(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Oa!==b&&(Oa>b&&(Oa=0,Pa={line:1,column:1,seenCR:!1}),c(Pa,Oa,b),Oa=b),Pa}function e(a){Qa>Ma||(Ma>Qa&&(Qa=Ma,Ra=[]),Ra.push(a))}function f(c,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=d(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==c?c:h(e,j),e,j,f,i.line,i.column)}function g(){var b,c,d,f,g,l,m,n;if(b=Ma,c=Ma,d=h(),d!==B?(58===a.charCodeAt(Ma)?(f=G,Ma++):(f=B,0===Sa&&e(H)),f!==B?(d=[d,f],c=d):(Ma=c,c=E)):(Ma=c,c=E),c===B&&(c=F),c!==B)if(d=Ma,f=i(),f!==B?(g=k(),g!==B?(f=[f,g],d=f):(Ma=d,d=E)):(Ma=d,d=E),d===B&&(d=F),d!==B)if(f=j(),f!==B){for(g=[],l=Ma,m=k(),m!==B?(n=j(),n!==B?(m=[m,n],l=m):(Ma=l,l=E)):(Ma=l,l=E);l!==B;)g.push(l),l=Ma,m=k(),m!==B?(n=j(),n!==B?(m=[m,n],l=m):(Ma=l,l=E)):(Ma=l,l=E);g!==B?(l=Ma,m=k(),m!==B?(n=i(),n!==B?(m=[m,n],l=m):(Ma=l,l=E)):(Ma=l,l=E),l===B&&(l=F),l!==B?(Na=b,c=I(c,d,f,g,l),b=c):(Ma=b,b=E)):(Ma=b,b=E)}else Ma=b,b=E;else Ma=b,b=E;else Ma=b,b=E;return b}function h(){var b,c;return b=Ma,72===a.charCodeAt(Ma)?(c=J,Ma++):(c=B,0===Sa&&e(K)),c===B&&(86===a.charCodeAt(Ma)?(c=L,Ma++):(c=B,0===Sa&&e(M))),c!==B&&(Na=b,c=N(c)),b=c}function i(){var b,c;return b=Ma,124===a.charCodeAt(Ma)?(c=O,Ma++):(c=B,0===Sa&&e(P)),c!==B&&(Na=b,c=Q()),b=c}function j(){var b,c,d,f,g;return b=Ma,91===a.charCodeAt(Ma)?(c=R,Ma++):(c=B,0===Sa&&e(S)),c!==B?(d=w(),d!==B?(f=n(),f===B&&(f=F),f!==B?(93===a.charCodeAt(Ma)?(g=T,Ma++):(g=B,0===Sa&&e(U)),g!==B?(Na=b,c=V(d,f),b=c):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E),b}function k(){var b,c,d,f;return b=Ma,45===a.charCodeAt(Ma)?(c=W,Ma++):(c=B,0===Sa&&e(X)),c!==B?(d=l(),d!==B?(45===a.charCodeAt(Ma)?(f=W,Ma++):(f=B,0===Sa&&e(X)),f!==B?(Na=b,c=Y(d),b=c):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E),b===B&&(b=Ma,45===a.charCodeAt(Ma)?(c=W,Ma++):(c=B,0===Sa&&e(X)),c!==B&&(Na=b,c=Z()),b=c,b===B&&(b=Ma,c=$,c!==B&&(Na=b,c=_()),b=c)),b}function l(){var a;return a=m(),a===B&&(a=n()),a}function m(){var a,b;return a=Ma,b=x(),b!==B&&(Na=a,b=aa(b)),a=b}function n(){var b,c,d,f,g,h,i;if(b=Ma,40===a.charCodeAt(Ma)?(c=ba,Ma++):(c=B,0===Sa&&e(ca)),c!==B)if(d=o(),d!==B){for(f=[],g=Ma,44===a.charCodeAt(Ma)?(h=da,Ma++):(h=B,0===Sa&&e(ea)),h!==B?(i=o(),i!==B?(h=[h,i],g=h):(Ma=g,g=E)):(Ma=g,g=E);g!==B;)f.push(g),g=Ma,44===a.charCodeAt(Ma)?(h=da,Ma++):(h=B,0===Sa&&e(ea)),h!==B?(i=o(),i!==B?(h=[h,i],g=h):(Ma=g,g=E)):(Ma=g,g=E);f!==B?(41===a.charCodeAt(Ma)?(g=fa,Ma++):(g=B,0===Sa&&e(ga)),g!==B?(Na=b,c=ha(d,f),b=c):(Ma=b,b=E)):(Ma=b,b=E)}else Ma=b,b=E;else Ma=b,b=E;return b}function o(){var b,c,d,f,g,h;return b=Ma,c=p(),c===B&&(c=F),c!==B?(d=q(),d!==B?(f=Ma,64===a.charCodeAt(Ma)?(g=ia,Ma++):(g=B,0===Sa&&e(ja)),g!==B?(h=r(),h!==B?(g=[g,h],f=g):(Ma=f,f=E)):(Ma=f,f=E),f===B&&(f=F),f!==B?(Na=b,c=ka(c,d,f),b=c):(Ma=b,b=E)):(Ma=b,b=E)):(Ma=b,b=E),b}function p(){var b,c;return b=Ma,a.substr(Ma,2)===la?(c=la,Ma+=2):(c=B,0===Sa&&e(ma)),c!==B&&(Na=b,c=na()),b=c,b===B&&(b=Ma,a.substr(Ma,2)===oa?(c=oa,Ma+=2):(c=B,0===Sa&&e(pa)),c!==B&&(Na=b,c=qa()),b=c,b===B&&(b=Ma,a.substr(Ma,2)===ra?(c=ra,Ma+=2):(c=B,0===Sa&&e(sa)),c!==B&&(Na=b,c=ta()),b=c)),b}function q(){var a;return a=t(),a===B&&(a=s(),a===B&&(a=u())),a}function r(){var a,b;return a=Ma,b=x(),b!==B&&(Na=a,b=ua(b)),a=b}function s(){var a,b;return a=Ma,b=x(),b!==B&&(Na=a,b=va(b)),a=b}function t(){var b,c,d;return b=Ma,c=x(),c!==B?(37===a.charCodeAt(Ma)?(d=wa,Ma++):(d=B,0===Sa&&e(xa)),d!==B?(Na=b,c=ya(c),b=c):(Ma=b,b=E)):(Ma=b,b=E),b}function u(){var a,b,c;return a=Ma,b=w(),b!==B?(c=v(),c===B&&(c=F),c!==B?(Na=a,b=za(b,c),a=b):(Ma=a,a=E)):(Ma=a,a=E),a}function v(){var b,c,d;return b=Ma,47===a.charCodeAt(Ma)?(c=Aa,Ma++):(c=B,0===Sa&&e(Ba)),c!==B?(d=x(),d!==B?(Na=b,c=Ca(d),b=c):(Ma=b,b=E)):(Ma=b,b=E),b===B&&(b=Ma,42===a.charCodeAt(Ma)?(c=Da,Ma++):(c=B,0===Sa&&e(Ea)),c!==B?(d=x(),d!==B?(Na=b,c=Fa(d),b=c):(Ma=b,b=E)):(Ma=b,b=E)),b}function w(){var b,c,d,f;if(b=Ma,c=Ma,d=[],Ga.test(a.charAt(Ma))?(f=a.charAt(Ma),Ma++):(f=B,0===Sa&&e(Ha)),f!==B)for(;f!==B;)d.push(f),Ga.test(a.charAt(Ma))?(f=a.charAt(Ma),Ma++):(f=B,0===Sa&&e(Ha));else d=E;return d!==B&&(d=a.substring(c,Ma)),c=d,c!==B&&(Na=b,c=Ia(c)),b=c}function x(){var b,c,d;if(b=Ma,c=[],Ja.test(a.charAt(Ma))?(d=a.charAt(Ma),Ma++):(d=B,0===Sa&&e(Ka)),d!==B)for(;d!==B;)c.push(d),Ja.test(a.charAt(Ma))?(d=a.charAt(Ma),Ma++):(d=B,0===Sa&&e(Ka));else c=E;return c!==B&&(Na=b,c=La(c)),b=c}function y(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}var z,A=arguments.length>1?arguments[1]:{},B={},C={visualFormatString:g},D=g,E=B,F=null,G=":",H={type:"literal",value:":",description:'":"'},I=function(a,b,c,d,e){return{orientation:a?a[0]:"horizontal",cascade:(b||[]).concat([c],[].concat.apply([],d),e||[])}},J="H",K={type:"literal",value:"H",description:'"H"'},L="V",M={type:"literal",value:"V",description:'"V"'},N=function(a){return"H"==a?"horizontal":"vertical"},O="|",P={type:"literal",value:"|",description:'"|"'},Q=function(){return{view:null}},R="[",S={type:"literal",value:"[",description:'"["'},T="]",U={type:"literal",value:"]",description:'"]"'},V=function(a,b){return y(a,b?{constraints:b}:{})},W="-",X={type:"literal",value:"-",description:'"-"'},Y=function(a){return a},Z=function(){return[{relation:"equ",constant:"default",$parserOffset:c()}]},$="",_=function(){return[{relation:"equ",constant:0,$parserOffset:c()}]},aa=function(a){return[{relation:"equ",constant:a,$parserOffset:c()}]},ba="(",ca={type:"literal",value:"(",description:'"("'},da=",",ea={type:"literal",value:",",description:'","'},fa=")",ga={type:"literal",value:")",description:'")"'},ha=function(a,b){return[a].concat(b.map(function(a){return a[1]}))},ia="@",ja={type:"literal",value:"@",description:'"@"'},ka=function(a,b,c){return y({relation:"equ"},a||{},b,c?c[1]:{})},la="==",ma={type:"literal",value:"==",description:'"=="'},na=function(){return{relation:"equ",$parserOffset:c()}},oa="<=",pa={type:"literal",value:"<=",description:'"<="'},qa=function(){return{relation:"leq",$parserOffset:c()}},ra=">=",sa={type:"literal",value:">=",description:'">="'},ta=function(){return{relation:"geq",$parserOffset:c()}},ua=function(a){return{priority:a}},va=function(a){return{constant:a}},wa="%",xa={type:"literal",value:"%",description:'"%"'},ya=function(a){return{view:null,multiplier:a/100}},za=function(a,b){return{view:a.view,multiplier:b?b:1}},Aa="/",Ba={type:"literal",value:"/",description:'"/"'},Ca=function(a){return 1/a},Da="*",Ea={type:"literal",value:"*",description:'"*"'},Fa=function(a){return a},Ga=/^[a-zA-Z0-9\-_]/,Ha={type:"class",value:"[a-zA-Z0-9\\-_]",description:"[a-zA-Z0-9\\-_]"},Ia=function(a){return{view:a}},Ja=/^[0-9]/,Ka={type:"class",value:"[0-9]",description:"[0-9]"},La=function(a){return parseInt(a.join(""),10)},Ma=0,Na=0,Oa=0,Pa={line:1,column:1,seenCR:!1},Qa=0,Ra=[],Sa=0;if("startRule"in A){if(!(A.startRule in C))throw new Error("Can't start parsing from rule \""+A.startRule+'".');D=C[A.startRule]}if(z=D(),z!==B&&Ma===a.length)return z;throw z!==B&&Ma<a.length&&e({type:"end",description:"end of input"}),f(null,Ra,Qa)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}]},{},[3])(3)});